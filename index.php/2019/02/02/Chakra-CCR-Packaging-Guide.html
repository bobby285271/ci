
<!DOCTYPE HTML>
<html class="no-js bg" lang="zh-cmn-Hans">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<meta charset="UTF-8">

<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">

<meta name="renderer" content="webkit">

<meta name="theme-color" content="#3a3f51" />
<meta http-equiv="x-dns-prefetch-control" content="on">
<title>Chakra CCR Packaging Guide - Dasyatis</title>
<link rel="icon" type="image/ico" href="https://bobby285271.coding.net/p/img/d/img/git/raw/master/favicon.ico">
<meta name="description" content="Chakra 的成功证明了只围绕 KDE 和 Qt 搭建一个简约的系统是完全可行的。但正是因为「简约」这一特性，一些用户需要的软件可能不被包含在我们的官方软件仓库中。Chakra 社区软件仓库（..." />
<meta name="keywords" content="Linux,Chakra,CCR,Pacman,Chaser,Packaging" />
<meta name="generator" content="Typecho 1.2/18.1.29" />
<meta name="template" content="handsome" />
<link rel="alternate" type="application/rss+xml" title="Chakra CCR Packaging Guide &raquo; Dasyatis &raquo; RSS 2.0" href="../../../feed/2019/02/02/Chakra-CCR-Packaging-Guide.html" />
<link rel="alternate" type="application/rdf+xml" title="Chakra CCR Packaging Guide &raquo; Dasyatis &raquo; RSS 1.0" href="../../../feed/rss/2019/02/02/Chakra-CCR-Packaging-Guide.html" />
<link rel="alternate" type="application/atom+xml" title="Chakra CCR Packaging Guide &raquo; Dasyatis &raquo; ATOM 1.0" href="../../../feed/atom/2019/02/02/Chakra-CCR-Packaging-Guide.html" />
<script type="text/x-mathjax-config">
        MathJax.Hub.Config({messageStyle: "none",tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>

<link href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">

<link rel="stylesheet" href="../../../../usr/themes/handsome/assets/css/function.min.css%3Fv=6.0.020191205.css" type="text/css" />
<link rel="stylesheet" href="../../../../usr/themes/handsome/assets/css/handsome.min.css%3Fv=6.0.020191205.css" type="text/css" />

<link rel="stylesheet" href="../../../../usr/themes/handsome/assets/css/features/jquery.fancybox.min.css%3Fv=6.0.020191205.css" type="text/css" />
<link rel="stylesheet" href="../../../../usr/themes/handsome/assets/css/features/code/vs.min.css%3Fv=6.0.020191205.css" type="text/css" />

<link rel="stylesheet" href="../../../../usr/themes/handsome/assets/css/font.min.css%3Fv=6.0.020191205.css" type="text/css" />
<style type="text/css">
        
        html.bg {
        background: #EFEFEF
        }
        .cool-transparent .off-screen+* .app-content-body {
        background: #EFEFEF
        }
@media (max-width:767px){
    html.bg {
        background: #EFEFEF
        }
        .cool-transparent .off-screen+* .app-content-body {
        background: #EFEFEF
        }
}
    </style>

<script src="https://cdn.staticfile.org/jquery/2.2.4/jquery.min.js" type="4322ebd828776fda20d5561c-text/javascript"></script>

<script src="../../../../usr/themes/handsome/assets/js/features/fancyMorph.min.js" type="4322ebd828776fda20d5561c-text/javascript"></script>
</head>
<body id="body" class="fix-padding">

<div id="alllayout" class="app app-aside-fix container app-header-fixed "> 
<header id="header" class="fix-padding app-header navbar box-shadow-bottom-lg" role="menu">

<div class="text-ellipsis navbar-header bg-white">
<button class="pull-right visible-xs" ui-toggle-class="show animated animated-lento fadeIn" target=".navbar-collapse">
<span class="menu-icons"><i data-feather="search"></i></span>
</button>
<button class="pull-left visible-xs" ui-toggle-class="off-screen animated" target=".app-aside" ui-scroll="app">
<span class="menu-icons"><i data-feather="menu"></i></span>
</button>

<a href="../../../../index.html" class="navbar-brand text-lt">
<i class="fontello fontello-home"></i>
<span class="hidden-folded m-l-xs">Dasyatis</span>
</a>

</div>


<div class="collapse pos-rlt navbar-collapse bg-white">

<form id="searchform1" class="searchform navbar-form navbar-form-sm navbar-left shift" method="post" role="search">
<div class="form-group">
<div class="input-group rounded bg-white-pure box-shadow-wrap-normal">
<input autocomplete="off" id="search_input" type="search" name="s" class="transparent rounded form-control input-sm no-borders padder" required placeholder="输入关键词搜索…">

<ul id="search_tips_drop" class="small-scroll-bar dropdown-menu hide" style="display: block;top: 
                30px; left: 0px;">
</ul>
<span id="search_submit" class="transparent input-group-btn">
<button type="submit" class="transparent btn btn-sm">
<span class="feathericons" id="icon-search"><i data-feather="search"></i></span>
<span class="feathericons animate-spin  hide" id="spin-search"><i data-feather="loader"></i></span>


</button>
</span>
</div>
</div>
</form>
<a href="Chakra-CCR-Packaging-Guide.html" style="display: none" id="searchUrl"></a>

<ul class="nav navbar-nav navbar-right">

<li class="dropdown">
<a href="Chakra-CCR-Packaging-Guide.html#" data-toggle="dropdown" class="feathericons dropdown-toggle">
<i data-feather="twitch"></i>
<span class="visible-xs-inline">
闲言碎语 </span>
<span class="badge badge-sm up bg-danger pull-right-xs"></span>
</a>

<div class="dropdown-menu w-xl animated fadeInUp">
<div class="panel bg-white">
<div class="panel-heading b-light bg-light">
<strong>
闲言碎语 </strong>
</div>
<div class="list-group" id="smallRecording">
<a href="../../../cross.html" class="list-group-item"><span class="clear block m-b-none words_contents">GDM 使用的字体和 GNOME 使用的字体不一样就很烦躁，发现一个简单的解决方法。其实就是登录 gdm 用户然后用 gsettings 改字体，毕竟人家似乎也不管你的 /etc/fonts/local.conf。machinectl shell <span class="__cf_email__" data-cfemail="3057545d70">[email&#160;protected]</span> /bin/bashgsettings set org.gnome.desktop.interface font-name "Noto S...<br><small class="text-muted">2020-5-14 12:19:43</small></span></a> </div>
</div>
</div>
</li>


<li class="dropdown" id="easyLogin">
<a onclick="if (!window.__cfRLUnblockHandlers) return false; return false" data-toggle="dropdown" class="dropdown-toggle clear" data-toggle="dropdown" data-cf-modified-4322ebd828776fda20d5561c-="">
<span class="feathericons"><i data-feather="key"></i></span>
<b class="caret"></b>
</a>

<div class="dropdown-menu w-lg wrapper bg-white animated fadeIn" aria-labelledby="navbar-login-dropdown">
<form id="Login_form" action="https://static.bobby285271.top/index.php/action/login?_=d2e5b8a7ae693f6a4bcb4a2e9906f78e" method="post">
<div class="form-group">
<label for="navbar-login-user">用户名</label>
<input type="text" name="name" id="navbar-login-user" class="form-control" placeholder="用户名或电子邮箱"></div>
<div class="form-group">
<label for="navbar-login-password">密码</label>
<input type="password" name="password" id="navbar-login-password" class="form-control" placeholder="密码"></div>
<button style="width: 100%" type="submit" id="login-submit" name="submitLogin" class="btn-rounded box-shadow-wrap-lg btn-gd-primary padder-lg">
<span>登录</span>
<span class="text-active">登录中...</span>
<span class="banLogin_text">刷新页面后登录</span>
<i class="animate-spin  fontello fontello-spinner hide" id="spin-login"></i>
<i class="animate-spin fontello fontello-refresh hide" id="ban-login"></i>
</button>
<input type="hidden" name="referer" value="https://static.bobby285271.top" data-current-url="value"></form>
</div>
</li>

</ul>
</div>

</header>


<aside id="aside" class="app-aside hidden-xs bg-white"> 
<div class="aside-wrap" layout="column">
<div class="navi-wrap scroll-y scroll-hide" flex>

<div class="clearfix hidden-xs text-center hide  show" id="aside-user">
<div class="dropdown wrapper ">
<div ui-nav>
<a href="../../../About.html">
<span class="thumb-lg w-auto-folded avatar m-t-sm  ">
<img src="https://bobby285271.coding.net/p/img/d/img/git/raw/master/0782bea86d809777847ee49607ce2ce2_2_1_art.jpg" class="img-full img-circle normal-shadow">
</span>
</a>
</div>
<a href="Chakra-CCR-Packaging-Guide.html#" data-toggle="dropdown" class="dropdown-toggle hidden-folded  ">
<span class="clear">
<span class="block m-t-sm">
<strong class="font-bold text-lt">Bobby Rong</strong>
<b class="caret"></b>
</span>
<span class="text-muted text-xs block">SCNUSE 学生</span>
</span>
</a>

<ul class="dropdown-menu animated fadeInRight w hidden-folded no-padder">
<li class="wrapper b-b m-b-sm bg-info m-n">
<span class="arrow top hidden-folded arrow-info"></span>
<div>
<p>晚上好，注意早点休息</p>
</div>
<div class="progress progress-xs m-b-none dker">
<div class="progress-bar bg-white" data-toggle="tooltip" data-original-title="时间已经度过95.83%" style="width: 95.83%"></div>
</div>
</li>
</ul>

</div>
</div>


<nav ui-nav class="navi clearfix">
<ul class="nav">

<div class="line dk hidden-folded"></div>
<li class="hidden-folded padder m-t m-b-sm text-muted text-xs">
<span>导航</span>
</li>

<li>
<a href="../../../../index.html" class="auto">
<span class="nav-icon"><i data-feather="home"></i></span>
<span>首页</span>
</a>
</li>

<li class="line dk"></li>

<li class="hidden-folded padder m-t m-b-sm text-muted text-xs">
<span>组成</span>
</li>

<li>
<a class="auto">
<span class="pull-right text-muted">
<i class="fontello icon-fw fontello-angle-right text"></i>
<i class="fontello icon-fw fontello-angle-down text-active"></i>
</span>

<span class="nav-icon"><i data-feather="grid"></i></span>
<span>分类</span>
</a>
<ul class="nav nav-sub dk">
<li class="nav-sub-header">
<a>
<span>分类</span>
</a>
</li>

<li><a href="../../../category/Uncategorized/index.html"><b class="badge pull-right">0</b><span>Uncategorized</span></a></li><li><a href="../../../category/Linux-Distributions/index.html"><b class="badge pull-right">3</b><span>Linux Distributions</span></a></li><li><a href="../../../category/Algorithm-and-ACM/index.html"><b class="badge pull-right">5</b><span>Algorithm and ACM</span></a></li><li><a href="../../../category/Web-and-Internet/index.html"><b class="badge pull-right">2</b><span>Web and Internet</span></a></li><li><a href="../../../category/applications/index.html"><b class="badge pull-right">1</b><span>Desktop Applications</span></a></li> </ul>
</li>

<li>
<a class="auto">
<span class="pull-right text-muted">
<i class="fontello icon-fw fontello-angle-right text"></i>
<i class="fontello icon-fw fontello-angle-down text-active"></i>
</span>
<span class="nav-icon"><i data-feather="file"></i></span>
<span>页面</span>
</a>
<ul class="nav nav-sub dk">
<li class="nav-sub-header">
<a data-no-instant>
<span>页面</span>
</a>
</li>

<li><a href="../../../Studio.html"><span>Studio</span></a></li>
<li><a href="../../../archiso.html"><span>Archiso</span></a></li>
 <li><a href="../../../About.html"><span>About</span></a></li>
<li><a href="../../../cross.html"><span>Cross</span></a></li>
<li><a href="../../../Archives.html"><span>Archives</span></a></li>
</ul>
</li>

<li>
<a class="auto">
<span class="pull-right text-muted">
<i class="fontello icon-fw fontello-angle-right text"></i>
<i class="fontello icon-fw fontello-angle-down text-active"></i>
</span>
<span class="nav-icon"><i data-feather="user"></i></span>
<span>友链</span>
</a>
<ul class="nav nav-sub dk">
<li class="nav-sub-header">
<a data-no-instant>
<span>友链</span>
</a>
</li>

<li data-original-title="在 Arch Linux 社区疯狂输出的大佬" data-toggle="tooltip" data-placement="top"><a href="https://felixc.at/" target="_blank"><span>Felix Yan</span></a></li><li data-original-title="早期的百度贴吧 Linux 吧大水怪" data-toggle="tooltip" data-placement="top"><a href="https://fiveyellowmice.com/" target="_blank"><span>FiveYellowMice</span></a></li><li data-original-title="SCNU ACMer，神犇" data-toggle="tooltip" data-placement="top"><a href="https://www.cnblogs.com/JNzH/" target="_blank"><span>JNzH</span></a></li><li data-original-title="GDUT ACMer，神犇" data-toggle="tooltip" data-placement="top"><a href="https://kaidora.github.io/" target="_blank"><span>Kaidora</span></a></li><li data-original-title="SCNU SE1905 同班同学" data-toggle="tooltip" data-placement="top"><a href="https://user-kay.github.io/" target="_blank"><span>Kay Chen</span></a></li><li data-original-title="0xFFFF.one 站长，大佬" data-toggle="tooltip" data-placement="top"><a href="https://izgq.net/" target="_blank"><span>ZGQ</span></a></li><li data-original-title="百度贴吧 Linux 吧魔法大吧" data-toggle="tooltip" data-placement="top"><a href="http://www.wenyinos.org/" target="_blank"><span>WenyinOS</span></a></li><li data-original-title="早期的百度贴吧 Linux 吧大水怪，北大学霸" data-toggle="tooltip" data-placement="top"><a href="https://lightmelodies.github.io/" target="_blank"><span>LightMelodies</span></a></li><li data-original-title="软协技术部锅长" data-toggle="tooltip" data-placement="top"><a href="https://mikyming.online/" target="_blank"><span>MikyMing</span></a></li> </ul>
</li>
</ul>
</nav>

</div>


<div id="left_footer" class="footer wrapper-xs text-center nav-xs lt">
<div class="col-xs-4 no-padder">
<a target="_blank" class="tinav" href="../../../../admin/index.html" title="" data-toggle="tooltip" data-placement="top" data-original-title="后台管理">
<span class="left-bottom-icons block"><i data-feather="settings"></i></span>
<small class="text-muted">管理</small>
</a>
</div>
<div class="col-xs-4 no-padder">
<a target="_blank" class="tinav" href="../../../feed/index.html" title="" data-toggle="tooltip" data-placement="top" data-original-title="文章RSS地址">
<span class="left-bottom-icons block"><i data-feather="rss"></i></span>
<small class="text-muted">文章</small>
</a>
</div>
<div class="col-xs-4 no-padder">
<a target="_blank" href="../../../feed/comments/index.html" title="" data-toggle="tooltip" data-placement="top" data-original-title="评论RSS地址">
<span class="left-bottom-icons block"><i data-feather="message-square"></i></span>
<small class="text-muted">评论</small>
</a>
</div>
</div>
</div>
</aside>

<div id="content" class="app-content">

<div id="loading" class="butterbar active hide">
<span class="bar"></span>
</div> 
<style>
    #post-content{
        font-size: 14px;
    }
</style>

<a class="off-screen-toggle hide"></a>
<main class="app-content-body ">
<div class="hbox hbox-auto-xs hbox-auto-sm">

<div class="col center-part">


<header id="small_widgets" class="bg-light lter wrapper-md">
<h1 class="entry-title m-n font-thin text-black l-h">Chakra CCR Packaging Guide<a class="plus-font-size" data-toggle="tooltip" data-original-title="点击改变文章字体大小"><i data-feather="type"></i></a><a data-morphing="" id="morphing" data-src="#morphing-content" href="javascript:;" class="read_mode superscript m-l-sm" data-toggle="tooltip" data-placement="right" data-original-title="阅读模式"><i data-feather="book-open"></i></a></h1> 
<ul class="entry-meta text-muted list-inline m-b-none small
             post-head-icon">

<li class="meta-author"><span class="post-icons"><i data-feather="user"></i></span><span class="sr-only">博主：</span> <a class="meta-value" href="../../../author/1/index.html" rel="author"> bobby285271</a></li>

<li class="meta-date"><span class="post-icons"><i data-feather="clock"></i></span><span class="sr-only">发布时间：</span><time class="meta-value">2019 年 02 月 02 日</time></li>

<li class="meta-views"><span class="post-icons"><i data-feather="eye"></i></span><span class="meta-value">23次浏览</span></li>

<li class="meta-comments"><span class="post-icons"><i data-feather="message-circle"></i></span><a class="meta-value" href="Chakra-CCR-Packaging-Guide.html#comments">暂无评论</a></li>

<li class="meta-word"><span class="post-icons"><i data-feather="pen-tool"></i></span><span class="meta-value">20111字数</span></li>

<li class="meta-categories"><span class="post-icons"><i data-feather="hash"></i></span><span class="sr-only">分类：</span> <span class="meta-value"><a href="../../../category/Linux-Distributions/index.html">Linux Distributions</a></span></li>
</ul>
</header>
<div class="wrapper-md" id="post-panel">
<ol class="breadcrumb bg-white-pure" itemscope=""><li>
<a href="../../../../index.html" itemprop="breadcrumb" title="返回首页" data-toggle="tooltip"><span class="home-icons"><i data-feather="home"></i></span>首页</a>
</li><li class="active">正文&nbsp;&nbsp;</li>
<div style="float:right;">
分享到：
<style>
   .breadcrumb i.iconfont.icon-qzone:after {
    padding: 0 0 0 5px;
    color: #ccc;
    content: "/\00a0";
    }
    
   </style>
<a href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://static.bobby285271.top/index.php/2019/02/02/Chakra-CCR-Packaging-Guide.html&title=Chakra CCR Packaging Guide&site=https://static.bobby285271.top/" itemprop="breadcrumb" target="_blank" title="" data-toggle="tooltip" data-original-title="分享到QQ空间" onclick="if (!window.__cfRLUnblockHandlers) return false; window.open(this.href, 'qzone-share', 'width=550,height=335');return false;" data-cf-modified-4322ebd828776fda20d5561c-=""><i style="font-size:15px;" class="iconfont icon-qzone" aria-hidden="true"></i></a>
<a href="http://service.weibo.com/share/share.php?url=https://static.bobby285271.top/index.php/2019/02/02/Chakra-CCR-Packaging-Guide.html&title=Chakra CCR Packaging Guide" target="_blank" itemprop="breadcrumb" title="" data-toggle="tooltip" data-original-title="分享到微博" onclick="if (!window.__cfRLUnblockHandlers) return false; window.open(this.href, 'weibo-share', 'width=550,height=335');return false;" data-cf-modified-4322ebd828776fda20d5561c-=""><i style="font-size:15px;" class="fontello fontello-weibo" aria-hidden="true"></i></a></div></ol> 
<div id="postpage" class="blog-post">
<article class="single-post panel">

<div class="entry-thumbnail" aria-hidden="true"><div class="item-thumb lazy" data-original="https://bobby285271.coding.net/p/img/d/img/git/raw/master/ccr/1.png" style="background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAA1JREFUCJljePfx038ACXMD0ZVlJAYAAAAASUVORK5CYII=)"></div></div> 
<div id="post-content" class="wrapper-lg">
<div class="entry-content l-h-2x">
<p>Chakra 的成功证明了只围绕 KDE 和 Qt 搭建一个简约的系统是完全可行的。但正是因为「简约」这一特性，一些用户需要的软件可能不被包含在我们的官方软件仓库中。<span class="external-link"><a href="https://ccr.chakralinux.org" target="_blank">Chakra 社区软件仓库<i data-feather='external-link'></i></a></span>（CCR）也就因此诞生了，它由社区维护，为所有类型的软件都敞开了大门。</p><h2>搜索、安装、升级 CCR 软件包</h2><blockquote>老用户请注意：<code>ccr</code> 工具已经被弃用，请转而使用 <code>chaser</code>。</blockquote><p>Chakra 提供了一个叫 <code>chaser</code> 的工具供用户管理 CCR 软件包。它的一些常见用法如下：</p><pre><code>[<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="c0a3a8a1abb2a180acafa3a1aca8afb3b4">[email&#160;protected]</a> ~]$ chaser -h
usage: chaser [-h] [-v] [-b BUILD_DIR]
              {get,install,listupdates,update,search,info} ...

Next-generation community package management for Chakra.

positional arguments:
  {get,install,listupdates,update,search,info}
    get                 download source files here
    install             install a package from the CCR
    listupdates         list available updates
    update              search for and install updates for CCR packages
    search              search CCR packages
    info                display package information

optional arguments:
  -h, --help            show this help message and exit
  -v, --version         show version information and exit
  -b BUILD_DIR, --build-dir BUILD_DIR
                        build packages in BUILD_DIR. default = /tmp/chaser</code></pre><h3>搜索</h3><p>搜索 CCR 软件包有两种方式，一种是直接访问 <span class="external-link"><a href="https://ccr.chakralinux.org/" target="_blank">CCR<i data-feather='external-link'></i></a></span> 站点并发起搜索，另一种是使用 <code>chaser search</code> 命令，比如搜索 <code>neofetch</code>：</p><pre><code>[<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="107378717b6271507c7f73717c787f6364">[email&#160;protected]</a> ~]$ chaser search neofetch</code></pre><p><code>chaser</code> 既会扫描官方软件仓库，也会扫描 CCR。两处符合条件的软件包都会被输出。</p><ul><li>如果您没有在其中找到您所需要的包，请考虑阅读下一章节。</li><li>如果您找到的包位于 <code>[core]</code>、<code>[desktop]</code>、<code>[gtk]</code>、<code>[lib32]</code>、<code>[testing]</code> 之一，这意味着您所需的包已经存在于官方软件仓库，请使用 <span class="external-link"><a href="https://community.chakralinux.org/t/chakra-package-manager-simplified-chinese/7341" target="_blank">Pacman<i data-feather='external-link'></i></a></span> 进行后续操作。</li><li>如果您找到的包位于 <code>[ccr]</code>，请继续阅读。</li></ul><p>下面可以使用 <code>chaser info</code> 进一步了解软件包信息。</p><pre><code>[<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="c0a3a8a1abb2a180acafa3a1aca8afb3b4">[email&#160;protected]</a> ~]$ chaser info neofetch</code></pre><p>下面是一个示例输出：</p><pre><code>Name           : neofetch
Version        : 5.0.0-1
URL            : https://github.com/dylanaraps/neofetch
Licenses       : MIT
Category       : utils
Votes          : 2
Maintainer     : bobby285271
OutOfDate      : False
Description    : A CLI system information tool written in BASH that supports displaying images.</code></pre><p>由于 CCR 活跃用户不多，请务必通过 <code>Version</code> 和 <code>OutOfDate</code> 了解清楚软件包维护情况，如果这个软件包过旧，考虑帮忙维护它（请阅读下一章节）。</p><h3>安装</h3><p>如果您决定安装，使用 <code>chaser install</code> 命令。<strong>不要</strong>使用 <code>root</code> 运行以下命令，当 <code>chaser</code> 需要管理员权限的时候会要求您输入密码。</p><pre><code>[<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="620e0b1407220e0d01030e0a0d1116">[email&#160;protected]</a> ~]$ chaser install neofetch</code></pre><p>大致的安装流程如下（以安装 <code>neofetch</code> 为例，部分输出被省略）。</p><ul><li>确认构建软件包：请在此处回答 <code>y</code>（是）。</li></ul><pre><code>resolving dependencies...
Downloading neofetch

Targets (1) neofetch

:: Proceed with installation? [Y/n]</code></pre><ul><li>定制软件包：PKGBUILD 是 Arch Linux 的一大特色，也被 Chakra 很好地继承了下来。感兴趣的请阅读 <span class="external-link"><a href="https://www.archlinux.org/pacman/PKGBUILD.5.html" target="_blank">PKGBUILD 语法<i data-feather='external-link'></i></a></span>，一般用户直接回答 <code>n</code>（否）。</li></ul><pre><code>Downloading neofetch
Edit neofetch PKGBUILD with $EDITOR? [Y/n]</code></pre><ul><li>构建软件包：此过程全自动，无需用户干预。</li></ul><pre><code>==&gt; Making package: neofetch 5.0.0-1
==&gt; Checking runtime dependencies...
==&gt; Checking buildtime dependencies...
==&gt; Retrieving sources...
==&gt; Validating source files with sha256sums...
==&gt; Extracting sources...
==&gt; Entering fakeroot environment...
==&gt; Starting package()...
==&gt; Tidying install...
==&gt; Checking for packaging issue...
==&gt; WARNING: backup entry file not in package : etc/neofetch/config.conf
==&gt; Creating package &quot;neofetch&quot;...
==&gt; Leaving fakeroot environment.
==&gt; Finished making: neofetch 5.0.0-1
==&gt; Installing package neofetch with pacman -U...</code></pre><ul><li>确认安装软件包：后续的工作将自动交由 Pacman 完成。请在此处回答 <code>y</code>（是）。</li></ul><pre><code>loading packages...
resolving dependencies...
looking for conflicting packages...

Packages (1) neofetch-5.0.0-1

Total Installed Size:  0.26 MiB

:: Proceed with installation? [Y/n] </code></pre><ul><li>安装软件包：此过程全自动，无需用户干预。</li></ul><pre><code>(1/1) checking keys in keyring                                                                                                                                     [#####################################################################################################] 100%
(1/1) checking package integrity                                                                                                                                   [#####################################################################################################] 100%
(1/1) loading package files                                                                                                                                        [#####################################################################################################] 100%
(1/1) checking for file conflicts                                                                                                                                  [#####################################################################################################] 100%
(1/1) checking available disk space                                                                                                                                [#####################################################################################################] 100%
:: Processing package changes...
(1/1) installing neofetch                                                                                                                                          [#####################################################################################################] 100%
:: Running post-transaction hooks...
(1/1) Arming ConditionNeedsUpdate...</code></pre><h3>升级</h3><p>使用 <code>chaser listupdates</code> 查看可用的更新，使用 <code>chaser update</code> 检查并应用更新 CCR 软件包。</p><h3>移除</h3><p>要查看您安装的 CCR 软件包，使用 <code>pacman -Qm</code> 命令。</p><blockquote>这个命令可能会输出一些您觉得很陌生的软件包，这很有可能是从官方软件仓库仓库移除且不再受 Chakra 团队支持的包。</blockquote><p>使用 Pacman 移除您不再需要的包，详见 <span class="external-link"><a href="https://community.chakralinux.org/t/chakra-package-manager-simplified-chinese/7341" target="_blank">这篇文章<i data-feather='external-link'></i></a></span>。</p><h2>提交、维护 CCR 软件包（初阶）</h2><p>感谢您为 Chakra 做出贡献！接下来，您将了解到如何准备 PKGBUILD，制作源码包并上传到 CCR 上。首先，请先前往 CCR 的 <span class="external-link"><a href="https://ccr.chakralinux.org/account.php" target="_blank">帐户页面<i data-feather='external-link'></i></a></span> 注册一个帐号。</p><h3>准备 PKGBUILD：概述</h3><p>PKGBUILD 是整个 CCR 包的灵魂所在。要知道的是，所谓的「制作源码包」不过是将 PKGBUILD 和几个补丁捆起来制作一个压缩包罢了。用户试图安装一个 CCR 包，本质上来说，其实是将 PKGBUILD 给下载下来，并执行里面的命令，从而编译安装真正的软件包。</p><h4>PKGBUILD 示例</h4><p>编写 PKGBUILD 并不是一件容易事，这里提供一个示例文件：</p><blockquote>如果您知道分包是什么，请注意：<strong>CCR 不支持分包，一个 PKGBUILD 只能对应一个软件包</strong>。</blockquote><pre><code># This is an example PKGBUILD file. Use this as a start to creating your own,
# and remove these comments. For more information, see 'man PKGBUILD'.
# NOTE: Please fill out the license field for your package! If it is unknown,
# then please put 'unknown'.

# Maintainer: Your Name &lt;<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="1861776d6a7d75797174587c7775797176367b7775">[email&#160;protected]</a>&gt;
pkgname=NAME
pkgver=VERSION
pkgrel=1
epoch=
pkgdesc=&quot;&quot;
arch=()
url=&quot;&quot;
license=('GPL')
groups=()
depends=()
makedepends=()
checkdepends=()
optdepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
changelog=
source=(&quot;$pkgname-$pkgver.tar.gz&quot;
        &quot;$pkgname-$pkgver.patch&quot;)
noextract=()
md5sums=()
validpgpkeys=()

prepare() {
        cd &quot;$pkgname-$pkgver&quot;
        patch -p1 -i &quot;$srcdir/$pkgname-$pkgver.patch&quot;
}

build() {
        cd &quot;$pkgname-$pkgver&quot;
        ./configure --prefix=/usr
        make
}

check() {
        cd &quot;$pkgname-$pkgver&quot;
        make -k check
}

package() {
        cd &quot;$pkgname-$pkgver&quot;
        make DESTDIR=&quot;$pkgdir/&quot; install
}</code></pre><h4>简要说明</h4><p>基本信息：</p><ul><li><code>pkgbase</code>： 软件包的名称，名称由小写字母、数字和任意以下字符组成： <code>@ . _ + -</code>；</li><li><code>pkgver</code>：软件包的版本号，应该与软件原作者发布的版本号一致；</li><li><code>pkgrel</code>：发布号，一个正整数，用来区分同一版本软件的多次构建；</li><li><code>epoch</code>：当一个软件的版本编号方式改变，使用此数值进行强制升级。</li></ul><p>描述：</p><ul><li><code>pkgdesc</code>：软件包描述，合理使用关键字以方便搜索；</li><li><code>arch</code>： PKGBUILD 可以编译和使用的架构（Chakra 仅支持 <code>x86_64</code>） ；</li><li><code>url</code>：软件官方站点的网址；</li><li><code>license</code>：软件发布许可证；</li><li><code>groups</code>：软件包所在的组。</li></ul><p>依赖关系：</p><ul><li><code>depends</code>：软件的运行时依赖列表；</li><li><code>optdepends</code>：一组不影响软件主要功能，但能提供额外特性的软件包；</li><li><code>makedepends</code>：仅在软件编译时需要的软件包列表；</li><li><code>checkdepends</code>：运行测试组件时需要，而运行时不需要的包列表。</li></ul><p>相关性：</p><ul><li><code>provides</code>：这个变量说明当前包能提供的功能（或者像 cron、sh 这样的虚包）；</li><li><code>conflicts</code>：与当前软件包发生冲突的包列表；</li><li><code>replaces</code>：会因安装当前包而取代的包列表。</li></ul><p>其它：</p><ul><li><code>backup</code>：当包被升级或卸载时，应当备份的文件；</li><li><code>options</code>：这个变量允许您重置 <code>makepkg</code> 的部分默认行为；</li><li><code>install</code>：<code>.install</code> 脚本的名称，应该和 <code>pkgname</code> 相同；</li><li><code>changelog</code>：软件包 changelog 的名称。</li></ul><p>源码：</p><ul><li><code>source</code>：构建软件包时需要的文件列表；</li><li><code>noextract</code>：一些列举于 <code>source</code> 中，但不需要在运行 <code>makepkg</code> 时解包的文件；</li><li><code>validpgpkeys</code>：PGP 指纹列表；</li></ul><p>完整性：</p><ul><li><code>md5sums</code>：<code>source</code> 列表文件中的 128 位 MD5 校验和；</li><li><code>sha1sums</code>：<code>source</code> 列表文件中 160 位 SHA-1 校验和；</li><li><code>sha224sums</code>、<code>sha256sums</code>、<code>sha384sums</code>、<code>sha512sums</code>：<code>source</code> 列表文件中224、256、384 或 512 位 SHA-2 校验和。</li></ul><p>想要了解更多，可以阅读 ArchWiki 上的 <span class="external-link"><a href="https://wiki.archlinux.org/index.php/PKGBUILD" target="_blank">相关页面<i data-feather='external-link'></i></a></span>。</p><h3>准备 PKGBUILD：从零开始（进阶）</h3><p>准备好大干一场？如果您打算从零开始编写一个 PKGBUILD，建议继续阅读以下文章：</p><ul><li><span class="external-link"><a href="https://wiki.archlinux.org/index.php/Arch_package_guidelines" target="_blank">AUR 打包准则<i data-feather='external-link'></i></a></span>（对 CCR 也是同样适用的）；</li><li><span class="external-link"><a href="https://www.archlinux.org/pacman/PKGBUILD.5.html" target="_blank">PKGBUILD 官方手册<i data-feather='external-link'></i></a></span>。</li></ul><p>请确认您已经彻底了解清楚您所维护的软件包<strong>依赖什么包</strong>以及<strong>如何编译安装</strong>，否则还是建议先往下阅读。</p><h3>准备 PKGBUILD：从外部导入</h3><p>要知道现实情况是：CCR 的成熟程度远远落后于 AUR，和 <span class="external-link"><a href="https://kaos-community-packages.github.io/" target="_blank">KCP<i data-feather='external-link'></i></a></span>（KaOS 社区软件仓库）差不多。AUR 的生态就摆在那里，<strong>几乎所有原生支持 Linux 的应用程序都能在 AUR 找到对应的软件包</strong>。而 KaOS 的定位和 Chakra 类似，也是围绕 KDE 和 Qt 搭建的发行版。所以说，在大部分情况下是没有必要自己造轮子的。<strong>有些轮子说不定 Chakra 团队已经为您造好了，在 Chakra 官方软件仓库里，不要重复提交这些软件包！</strong></p><p>请从 <strong>Arch Linux 官方软件仓库 & AUR</strong> 和 <strong>KaOS 官方软件仓库 & KCP</strong> 两个来源选择一个，并继续阅读下面的教程。</p><h4>Arch Linux 官方软件仓库 & AUR</h4><p>前往 <span class="external-link"><a href="https://www.archlinux.org/packages/" target="_blank">Arch Linux 软件包页面<i data-feather='external-link'></i></a></span> 和 <span class="external-link"><a href="https://aur.archlinux.org/" target="_blank">AUR 首页<i data-feather='external-link'></i></a></span> 发起搜索，直到您找到您打算提交到 CCR 的软件包。点击软件包名进入软件包详情页，定位到页面右侧的「Package Actions」方框：</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAA1JREFUCJljePfx038ACXMD0ZVlJAYAAAAASUVORK5CYII=" data-original="https://bobby285271.coding.net/p/img/d/img/git/raw/master/ccr/1.png" alt="" title="" /></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAA1JREFUCJljePfx038ACXMD0ZVlJAYAAAAASUVORK5CYII=" data-original="https://bobby285271.coding.net/p/img/d/img/git/raw/master/ccr/2.png" alt="" title="" /></p><p>对于 AUR 软件包页面，选择「View PKGBUILD」，当页面加载完毕后还需要点击「summary」链接前往 Git 仓库概览页面。</p><p>对于 Arch Linux 官方软件包，直接选择「Source Files」。</p><p>AUR 的软件包是一个软件包对应一个 Git 仓库的，而 Arch Linux 官方软件包则是 [core]、[extra] 仓库中的<strong>所有软件包</strong>放一个 Git 仓库，[community]、[multilib] 仓库中的<strong>所有软件包</strong>放另一个 Git 仓库。为了效率最大化，对于 AUR 包我们会选择 Clone 整个 Git 仓库，而官方软件包我们会选择逐个文件拷贝。</p><p>对于 AUR 软件包，找到 Clone 这一栏，下面有一个地址，将它复制下来：</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAA1JREFUCJljePfx038ACXMD0ZVlJAYAAAAASUVORK5CYII=" data-original="https://bobby285271.coding.net/p/img/d/img/git/raw/master/ccr/3.png" alt="" title="" /></p><p>打开终端，输入 <code>git clone &lt;刚刚复制的 URL 地址&gt; --depth=1</code>，例如：</p><pre><code>git clone https://aur.archlinux.org/wps-office.git/ --depth=1</code></pre><p>至于 Arch Linux 官方软件包，新建一个文件夹（名字随意），然后回到浏览器，<strong>逐个文件</strong>点击文件名旁边的「plain」链接（如图所示），如果是文本文件复制一下，在刚刚新建的文件夹新建一个<strong>同样名称</strong>的文件（千万不要随意改名），将文本粘贴下去。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAA1JREFUCJljePfx038ACXMD0ZVlJAYAAAAASUVORK5CYII=" data-original="https://bobby285271.coding.net/p/img/d/img/git/raw/master/ccr/4.png" alt="" title="" /></p><p>至于二进制文件，浏览器应该会弹出下载窗口，将文件下载后放入文件夹中。</p><p>记得检查文件权限是否正常，如果发现文件权限和浏览器中「Mode」显示的是否一致。如果不一致，使用 <code>chmod</code> 修正妥当（<span class="external-link"><a href="http://linux.vbird.org/linux_basic/0210filepermission.php#chmod" target="_blank">这里<i data-feather='external-link'></i></a></span> 有这个命令相关的介绍）。</p><h4>KaOS 官方软件仓库 & KCP</h4><p>和前面 Arch Linux 官方软件仓库 & AUR 大同小异。<span class="external-link"><a href="https://kaosx.us/packages/" target="_blank">KaOS 软件包页面<i data-feather='external-link'></i></a></span> 和 <span class="external-link"><a href="https://kaos-community-packages.github.io/" target="_blank">KCP<i data-feather='external-link'></i></a></span> 同样提供了搜索框，发起搜索后进入软件包详情页。</p><p>同样，官方包建议逐个文件获取，点击右栏的「Source Files」，剩下的操作估计大家很熟悉了，毕竟 GitHub 大家都用过，逐个查看「Raw」文件即可。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAA1JREFUCJljePfx038ACXMD0ZVlJAYAAAAASUVORK5CYII=" data-original="https://bobby285271.coding.net/p/img/d/img/git/raw/master/ccr/5.png" alt="" title="" /></p><p>KCP 包可以整个仓库 Clone 下来（原因同 AUR），点击右上角的「View on GitHub」，后面的我也不再多说了，依然是 <code>git clone &lt;刚刚复制的 URL 地址&gt; --depth=1</code>。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAA1JREFUCJljePfx038ACXMD0ZVlJAYAAAAASUVORK5CYII=" data-original="https://bobby285271.coding.net/p/img/d/img/git/raw/master/ccr/6.png" alt="" title="" /></p><h3>准备 PKGBUILD：收尾 & 检查工作</h3><p><strong>这一步很关键，一定要重视！</strong></p><p>上一步完成后，我们得到了一个文件夹，里面有些什么取决于您选择的包，大多数情况下里面可能只有一个 <code>PKGBUILD</code> 文件。没关系，<strong>反正一定要有 PKGBUILD</strong>，剩下的无需我们来检查。再次强调，PKGBUILD 非常关键，所以我们一定要进行检查。</p><p>这里是一份 <code>PKGBUILD</code>：</p><pre><code># Maintainer: Jan de Groot &lt;<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="e78d8084a78695848f8b8e89929fc9889580">[email&#160;protected]</a>&gt;

pkgname=xorg-xprop
pkgver=1.2.3
pkgrel=1
pkgdesc=&quot;Property displayer for X&quot;
arch=(x86_64)
url=&quot;https://xorg.freedesktop.org/&quot;
license=('custom')
depends=('libx11')
makedepends=('xorg-util-macros')
groups=('xorg-apps' 'xorg')
source=(https://xorg.freedesktop.org/archive/individual/app/xprop-${pkgver}.tar.bz2{,.sig})
sha512sums=('ad7987fec11ae19b7adc3b0f683fc393e95155f3b6c753d1d8744aedcfb360452eee5735a4c380152b286905931515f3e1a28676b5531001eb8dd93b7249916a'
            'SKIP')
validpgpkeys=('4A193C06D35E7C670FA4EF0BA2FB9E081F2D130E') # &quot;Alan Coopersmith &lt;<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="6e0f020f00400d01011e0b1c1d03071a062e011c0f0d020b400d0103">[email&#160;protected]</a>&gt;&quot;

build() {
  cd xprop-${pkgver}
  ./configure --prefix=/usr
  make
}

package() {
  cd xprop-${pkgver}
  make DESTDIR=&quot;${pkgdir}&quot; install
  install -m755 -d &quot;${pkgdir}/usr/share/licenses/${pkgname}&quot;
  install -m644 COPYING &quot;${pkgdir}/usr/share/licenses/${pkgname}/&quot;
}</code></pre><p>聪明人看完第一行就应该知道这份 <code>PKGBUILD</code> 是从 Arch Linux 官方仓库上抓取下来的。如果您刚才「 简要说明」，大概就知道我们要重点检查什么了。</p><h4>依赖关系</h4><p>首先是 <code>depends</code> 和 <code>makedepends</code>，这两项都是针对 Arch Linux 来写的。例如说一个包依赖 <code>foo</code>，到了 Chakra 这边，可能会有这几种情况：</p><ul><li>Chakra 官方软件仓库正好有 <code>foo</code>，提供的是同样的功能；</li><li>Chakra 官方软件仓库没有 <code>foo</code>，但 CCR 有；</li><li>Chakra 官方软件仓库或 CCR 提供了提供同样功能，但包名不同的 <code>foo1</code>；</li><li>Chakra 官方软件仓库或 CCR 不提供 <code>foo</code>。</li></ul><p>第一、二种情况可以直接给过不用管，因为 <code>chaser</code> 会自动从官方软件仓库和 CCR 获取相应的依赖。</p><p>第三种情况要小心一点，并不是所有情况下简单地将 <code>foo</code> 改成 <code>foo1</code> 就可以的，看一下下面这个案例：</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAA1JREFUCJljePfx038ACXMD0ZVlJAYAAAAASUVORK5CYII=" data-original="https://bobby285271.coding.net/p/img/d/img/git/raw/master/ccr/7.png" alt="" title="" /></p><p>注意到在 Arch Linux 这里同时存在 <code>openssl</code> 和 <code>openssl-1.0</code> 两个软件包，观察版本号，我们知道后者是为了兼容性而单独打包的。<code>openssl</code> 的版本号（截至 20190201）是 1.1.1.a-1，<code>openssl-1.0</code> 则是 1.0.2.q-1。</p><p>接下来看看 AUR 里 <code>wps-office</code> 这个包：</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAA1JREFUCJljePfx038ACXMD0ZVlJAYAAAAASUVORK5CYII=" data-original="https://bobby285271.coding.net/p/img/d/img/git/raw/master/ccr/8.png" alt="" title="" /></p><p>它依赖的是 <code>openssl-1.0</code>。我们可以搜索 Chakra 官方软件仓库（省略部分输出）：</p><pre><code>[<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="2f4c474e445d4e6f43404c4e4347405c5b">[email&#160;protected]</a> ~]$ pacman -Ss openssl
lib32/lib32-openssl 1.0.2.q-1
    The Open Source toolkit for Secure Sockets Layer and Transport Layer Security (32-bit)
core/openssl 1.0.2.q-1 [已安装]
    The Open Source toolkit for Secure Sockets Layer and Transport Layer Security
core/perl-crypt-openssl-bignum 0.04-3
    OpenSSL's multiprecision integer arithmetic
core/perl-crypt-openssl-random 0.04-8
    Interface to OpenSSL PRNG methods
core/perl-crypt-openssl-rsa 0.28-2
    Interface to OpenSSL RSA methods
core/perl-net-ssleay 1.63-1
    Perl extension for using OpenSSL
core/pkcs11-helper 1.25.1-1
    A library that simplifies the interaction with PKCS11 providers for end-user applications using a simple API and optional OpenSSL engine
core/python2-characteristic 14.3.0-1
    Service identity verification for pyOpenSSL
core/python2-service-identity 17.0.0-1
    Service identity verification for pyOpenSSL
core/python3-characteristic 14.3.0-1
    Service identity verification for pyOpenSSL
core/python3-service-identity 17.0.0-1
    Service identity verification for pyOpenSSL
core/tls 1.6.7-1
    OpenSSL extension to Tcl
desktop/python2-ndg-httpsclient 0.4.3-1
    Provides enhanced HTTPS support for httplib and urllib2 using PyOpenSSL
desktop/python2-pyopenssl 17.3.0-1
    Python2 wrapper module around the OpenSSL library
desktop/python3-ndg-httpsclient 0.4.3-1
    Provides enhanced HTTPS support for httplib and urllib2 using PyOpenSSL
desktop/python3-pyopenssl 17.3.0-1
    Python3 wrapper module around the OpenSSL library
[<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="26454e474d5447664a4945474a4e495552">[email&#160;protected]</a> ~]$</code></pre><p>这就是所有的搜索结果了，有 <code>openssl</code> 却没有 <code>openssl-1.0</code>，但是要注意 Chakra 提供的 <code>openssl</code> 版本是 1.0.2.q-1，和 Arch 中 <code>openssl-1.0</code> 是一致的。从中我们可以得出以下信息：</p><p>Chakra 是半滚动更新发行版，更新一般来说会滞后于 Arch Linux，Chakra 的 OpenSSL 打包落后于 Arch Linux，所以目前来说我们要将 <code>PKGBUILD</code> 文件中的 <code>openssl-1.0</code> 修改为 <code>openssl</code>，但当 Chakra 将 <code>openssl</code> 升级到 1.1+ 之后，我们要实时监测 Chakra 动态，做好两手准备：</p><ul><li>如果 <code>openssl-1.0</code> 可用，我们要重新打包 <code>wps-office</code>，将 PKGBUILD 改回 <code>openssl-1.0</code>；</li><li>如果 Chakra 不提供 <code>openssl-1.0</code>，我们得为 <code>openssl-1.0</code> 打包并提交到 CCR。</li></ul><p>注意：在这个案例中，只要 Chakra 的 <code>openssl</code> 不更新，用户就不能提前将 <code>openssl-1.0</code> 提交到 CCR，因为<strong>它和官方源所提供的重复了</strong>。</p><p>第四种情况，您需要前往<strong>您刚刚所选的来源</strong>（<strong>Arch Linux 官方软件仓库 & AUR</strong> 或 <strong>KaOS 官方软件仓库 & KCP</strong>），按照上面提供的步骤，获取这个依赖包的相关文件，在稍后一起进行打包。</p><h4>PGP 密钥</h4><p>如果您从 Arch Linux 或 KaOS 官方软件仓库获取软件包的要特意留意 <code>validpgpkeys</code> 这一项，如果有所填写，要注意的是，Charka 的 <code>chakra-keyring</code> 软件包只提供了 Chakra 维护者的签名，没有 Arch Linux 或 KaOS 的。这样会导致打包失败，因为打包工具 <code>makepkg</code> 是会检查 PGP 密钥的。</p><p>规避检查很简单，将 <code>validpgpkeys</code> 所在的那一行删掉。当然也别忘了将相关的文件删掉，还是上面 <code>xorg-xprop</code> 的那个例子：</p><pre><code>...
source=(https://xorg.freedesktop.org/archive/individual/app/xprop-${pkgver}.tar.bz2{,.sig})
sha512sums=('ad7987fec11ae19b7adc3b0f683fc393e95155f3b6c753d1d8744aedcfb360452eee5735a4c380152b286905931515f3e1a28676b5531001eb8dd93b7249916a'
            'SKIP')
validpgpkeys=('4A193C06D35E7C670FA4EF0BA2FB9E081F2D130E') # &quot;Alan Coopersmith &lt;<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="f49598959ada979b9b84918687999d809cb49b8695979891da979b99">[email&#160;protected]</a>&gt;&quot;
...</code></pre><p>在删除下面这一行之后：</p><pre><code>validpgpkeys=('4A193C06D35E7C670FA4EF0BA2FB9E081F2D130E') # &quot;Alan Coopersmith &lt;<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="d1b0bdb0bfffb2bebea1b4a3a2bcb8a5b991bea3b0b2bdb4ffb2bebc">[email&#160;protected]</a>&gt;&quot;</code></pre><p>我们留意到 <code>source</code> 那一行，<code>{,.sig}</code> 意味着它同时包含了两个文件：<code>xprop-${pkgver}.tar.bz2</code> 和 <code>xprop-${pkgver}.tar.bz2.sig</code>，后者是用于验证密钥的，删除它。</p><p>而 <code>sha512sums</code> 那里，所有的检验值都和 <code>source</code> 的文件逐一对应，所以我们得把 <code>xprop-${pkgver}.tar.bz2.sig</code> 的校验值给相应地删除，即使它是 <code>SKIP</code>，意为「跳过校验值检查」。</p><p>这个文件最终被修改成了这样：</p><pre><code># Maintainer: Jan de Groot &lt;<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="a8c2cfcbe8c9dacbc0c4c1c6ddd086c7dacf">[email&#160;protected]</a>&gt;

pkgname=xorg-xprop
pkgver=1.2.3
pkgrel=1
pkgdesc=&quot;Property displayer for X&quot;
arch=(x86_64)
url=&quot;https://xorg.freedesktop.org/&quot;
license=('custom')
depends=('libx11')
makedepends=('xorg-util-macros')
groups=('xorg-apps' 'xorg')
source=(https://xorg.freedesktop.org/archive/individual/app/xprop-${pkgver}.tar.bz2)
sha512sums=('ad7987fec11ae19b7adc3b0f683fc393e95155f3b6c753d1d8744aedcfb360452eee5735a4c380152b286905931515f3e1a28676b5531001eb8dd93b7249916a')

build() {
  cd xprop-${pkgver}
  ./configure --prefix=/usr
  make
}

package() {
  cd xprop-${pkgver}
  make DESTDIR=&quot;${pkgdir}&quot; install
  install -m755 -d &quot;${pkgdir}/usr/share/licenses/${pkgname}&quot;
  install -m644 COPYING &quot;${pkgdir}/usr/share/licenses/${pkgname}/&quot;
}</code></pre><h4>其它</h4><p>如果您是从外部导入的软件包，案例来说您是无需检查校验值的，如果是自己创建的软件包就一定要检查校验值了：打开 Konsole，使用 <code>cd</code> 命令进入您的文件夹，然后执行 <code>updpkgsums</code> 命令即可。</p><p>另外我们还建议您将 Maintainer 后面的姓名和邮箱改成您自己的。</p><h4>亲自测试（建议）</h4><p>打开 Konsole，使用 <code>cd</code> 命令进入您的文件夹，然后执行 <code>makepkg</code> 命令。 如果 <code>PKGBUILD</code> 没有错误，将会生成一个包，但是如果 <code>PKGBUILD</code> 被破坏或未完成，它将抛出一个错误。</p><p><code>makepkg</code> 的用法如下：</p><pre><code>用法：/usr/bin/makepkg [选项]

选项：
  -A, --ignorearch      忽略不完整的 arch 字段 (位于 PKGBUILD 中)
  -c, --clean           编译后清理工作文件
  -C, --cleanbuild      在编译软件包之前删除 $srcdir/ 文件夹
  -d, --nodeps          跳过所有依赖关系检查
  -e, --noextract       不解压源文件 (使用现存的 $srcdir/ 目录)
  -f, --force           覆盖现存的软件包
  -g, --geninteg        为源码文件生成完整性检查值
  -h, --help            显示本帮助信息并退出
  -i, --install         成功编译后安装软件包
  -L, --log             记录软件包编译过程
  -m, --nocolor         禁止彩色输出信息
  -o, --nobuild         仅下载和解压缩文件
  -p &lt;文件&gt;             使用另外的编译脚本 (而不是 'PKGBUILD' ) 
  -r, --rmdeps          编译成功后删除安装的依赖关系
  -R, --repackage       不编译而重新打包软件包内容
  -s, --syncdeps        使用 pacman 安装缺失的依赖关系
  -S, --source          不下载源文件只生成仅包含源的包
  -V, --version         显示版本信息并退出
  --allsource           只生成源码包 (包括有已下载的源码) 
  --check               运行 check() 函数 (包含于 PKGBUILD 中)
  --config &lt;文件&gt;       使用另外的配置文件 (而不是 '/etc/makepkg.conf')
  --holdver             不升级版本控制系统源
  --key &lt;密匙&gt;          指定签名 gpg 使用的密匙而不用默认密匙
  --noarchive           不生成软件包归档
  --nocheck             不执行 check() 函数在 PKGBUILD 中
  --noprepare           不执行 prepare() 函数在 PKGBUILD 中
  --nosign              不为该软件包创建签名
  --packagelist         只列出将会产生的包，不带PKGEXT
  --printsrcinfo        打印出生成的 SRCINFO 并退出
  --sign                使用 gpg 签名生成的软件包
  --skipchecksums       不验证源文件的检验值
  --skipinteg           不对源文件执行任何验证检查
  --skippgpcheck        不验证有 PGP 签名的源文件
 --verifysource         下载源文件(如果需要)并进行完整性检查

这些选项可以传递给 pacman：
  --asdeps              作为依赖安装
  --needed              不重装已是最新的目标软件包
  --noconfirm           当解决依赖关系时不询问确认
  --noprogressbar       下载文件时不显示进度条

如果没有指定 -p，makepkg 将寻找 'PKGBUILD'</code></pre><p>如果运行 <code>makepkg</code> 成功，在您工作的目录下将会生成一个名为 <code>$pkgname-$pkgver.pkg.tar.gz</code> 的新文件。这个文件可以使用 <code>pacman -U</code> 或 <code>pacman -A</code> 安装。如果包看起来是正确的，那您的工作就完成了。</p><h4>一个实用的检查工具（建议）</h4><p>Namcap 是 Arch Linux 推荐的检查工具，它将会做以下工作：</p><ul><li>检查 PKGBUILD 文件里的一些常见错误；</li><li>用 <code>ldd</code> 扫描包中所有的ELF文件，自动报告缺失或可去除的依赖；</li><li>启发式搜寻缺失或冗余的依赖。</li></ul><p>要养成用 Namcap 检查包的习惯，以避免提交包后再做修复的麻烦。</p><p>打开 Konsole，使用 <code>cd</code> 命令进入您的文件夹，然后执行：</p><pre><code>namcap PKGBUILD</code></pre><h3>制作源码包</h3><p>后面的步骤都很简单了！打开 Konsole，使用 <code>cd</code> 命令进入您的文件夹，执行以下命令：</p><pre><code>makepkg --source</code></pre><p>这个命令实际上就是将文件夹里的文件打成一个包，但为了确认您的 PKGBUILD 中的校验值准确无误，PKGBUILD 中 <code>source</code> 一栏所有文件都会被下载下来以校验完整性，耐心等待就好。</p><p>输出内容大概是：</p><pre><code>==&gt; 正在进入 fakeroot 环境...
==&gt; 正在创建源码包...
  -&gt; 正在添加 PKGBUILD...
  -&gt; 正在生成 .SRCINFO 文件...
  -&gt; 正在压缩源码包...
==&gt; 正在离开 fakeroot 环境。
==&gt; 源代码包已创建：foo</code></pre><h3>将源码包上传到 CCR</h3><p>请确认您已经登录 CCR 帐户，接下来访问 <span class="external-link"><a href="https://ccr.chakralinux.org/pkgsubmit.php" target="_blank">上传页面<i data-feather='external-link'></i></a></span>，选择软件包分类，接下来选择源码包，源码包应该位于您的文件夹中，包名应该是 <code>$pkgname-$pkgver.src.tar.gz</code>。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAA1JREFUCJljePfx038ACXMD0ZVlJAYAAAAASUVORK5CYII=" data-original="https://bobby285271.coding.net/p/img/d/img/git/raw/master/ccr/9.png" alt="" title="" /></p><p>点击「上传」即可。如果 CCR 里面本身没有这个包或这个包是一个无人维护的包（孤儿包），您将会成为维护者。CCR 里面旧版本的软件包将会被您的新软件包取代。如果这个包已经有维护者，CCR 会拒绝您的提交。如果您发现 CCR 里的包已经被标记为「过期」一段时间而维护者没有采取任何动作，您可以联系 Chakra 团队将该包重置为无人维护状态。</p> </div>

<div class="show-foot">
<div class="notebook">
<i class="fontello fontello-clock-o"></i>
<span>最后修改：2020 年 05 月 01 日 12 : 13 PM</span>
</div>
<div class="copyright" data-toggle="tooltip" data-html="true" data-original-title="转载请保留本文转载地址，著作权归作者所有"><span>© 允许规范转载</span>
</div>
</div>

</div>
</article>
</div>

<nav class="m-t-lg m-b-lg">
<ul class="pager">
<li class="next"> <a class="box-shadow-wrap-normal" href="../../../2017/10/21/How-to-Generate-a-Hexo-Blog-and-Deploy-it-on-GitHub.html" title="How to Generate a Hexo Blog and Deploy it on GitHub" data-toggle="tooltip">
下一篇 </a></li> <li class="previous"> <a class="box-shadow-wrap-normal" href="../../10/05/How-to-Launch-a-Desktop-Environment-on-WSL-2.html" title="How to Launch a Desktop Environment on WSL 2" data-toggle="tooltip"> 上一篇 </a></li>
</ul>
</nav>

<style>
            textarea#comment{
                background-image: url('https://s2.ax1x.com/2019/07/20/ZzaGcV.png');
                background-color: #ffffff;
                transition: all 0.25s ease-in-out 0s;
            }
            textarea#comment:focus {
                background-position-y: 105px;
                transition: all 0.25s ease-in-out 0s;
            }
        </style>
<div id="comments">


<div id="respond-post-14" class="respond comment-respond no-borders">
<h4 id="reply-title" class="comment-reply-title m-t-lg m-b">发表评论 <small><i class="glyphicon glyphicon-info-sign" data-toggle="tooltip" title="我们将使用 Cookie 保留您的个人信息以便您下次快速评论，继续评论表示您已同意我们这样做"></i>
</small>
<small class="cancel-comment-reply">
<a id="cancel-comment-reply-link" href="Chakra-CCR-Packaging-Guide.html#respond-post-14" rel="nofollow" style="display:none" onclick="if (!window.__cfRLUnblockHandlers) return false; return TypechoComment.cancelReply();" data-cf-modified-4322ebd828776fda20d5561c-="">取消回复</a> </small>
</h4>
<form id="comment_form" method="post" action="https://static.bobby285271.top/index.php/2019/02/02/Chakra-CCR-Packaging-Guide.html/comment" class="comment-form" role="form">
<div class="comment-form-comment form-group">
<label class="padder-v-sm" for="comment">评论 <span class="required text-danger">*</span></label>
<textarea id="comment" class="textarea form-control OwO-textarea" name="text" rows="5" placeholder="说点什么吧……" onkeydown="if (!window.__cfRLUnblockHandlers) return false; if(event.ctrlKey&&event.keyCode==13){document.getElementById('submit').click();return false};" data-cf-modified-4322ebd828776fda20d5561c-=""></textarea>
<div class="OwO padder-v-sm"></div>
<div class="secret_comment" id="secret_comment" data-toggle="tooltip" data-original-title="开启该功能，您的评论仅作者和评论双方可见">
<label class="secret_comment_label control-label">私密评论</label>
<div class="secret_comment_check">
<label class="i-switch i-switch-sm bg-dark m-b-ss m-r">
<input type="checkbox" id="secret_comment_checkbox">
<i></i>
</label>
</div>
</div>
</div>

<div id="author_info" class="row row-sm">
<div class="comment-form-author form-group col-sm-6 col-md-4">
<label for="author">名称 <span class="required text-danger">*</span></label>
<div>
<img class="author-avatar" src="https://secure.gravatar.com/avatar/d41d8cd98f00b204e9800998ecf8427e?s=65&r=G&d=" nogallery />
<input id="author" class="form-control" name="author" type="text" value="" maxlength="245" placeholder="姓名或昵称">
</div>
</div>
<div class="comment-form-email form-group col-sm-6 col-md-4">
<label for="email">邮箱 <span class="required text-danger">*</span>
</label>
<input type="text" name="mail" id="mail" class="form-control" placeholder="邮箱 (必填,将保密)" value="" />
<input type="hidden" name="receiveMail" id="receiveMail" value="yes" />
</div>
<div class="comment-form-url form-group col-sm-12 col-md-4">
<label for="url">地址</label>
<input id="url" class="form-control" name="url" type="url" value="" maxlength="200" placeholder="网站或博客"></div>
</div>

<div class="form-group">
<button type="submit" name="submit" id="submit" class="submit btn-rounded box-shadow-wrap-lg btn-gd-primary padder-lg">
<span>发表评论</span>
<span class="text-active">提交中...</span>
</button>
<i class="animate-spin fontello fontello-spinner hide" id="spin"></i>
<input type="hidden" name="comment_post_ID" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent">
</div>
</form>
</div>
</div>
</div>
</div>

<aside class="asideBar col w-md bg-white-only bg-auto no-border-xs" role="complementary">
<div id="sidebar">
<section id="tabs-4" class="widget widget_tabs clear">
<div class="nav-tabs-alt no-js-hide">
<ul class="nav nav-tabs nav-justified box-shadow-bottom-normal tablist" role="tablist">
<li data-index="0" class="active" role="presentation"> <a href="Chakra-CCR-Packaging-Guide.html#widget-tabs-4-hots" role="tab" aria-controls="widget-tabs-4-hots" aria-expanded="true" data-toggle="tab"><div class="sidebar-icon wrapper-sm"><i data-feather="thumbs-up"></i></div><span class="sr-only">热门文章</span> </a></li>
<li role="presentation" data-index="1"> <a href="Chakra-CCR-Packaging-Guide.html#widget-tabs-4-comments" role="tab" aria-controls="widget-tabs-4-comments" aria-expanded="false" data-toggle="tab"><div class="sidebar-icon wrapper-sm"><i data-feather="message-square"></i></div> <span class="sr-only">最新评论</span> </a></li>
<li data-index="2" role="presentation"> <a href="Chakra-CCR-Packaging-Guide.html#widget-tabs-4-random" role="tab" aria-controls="widget-tabs-4-random" aria-expanded="false" data-toggle="tab"> <div class="sidebar-icon wrapper-sm"><i data-feather="gift"></i></div> <span class="sr-only">随机文章</span>
</a></li>
<span class="navs-slider-bar"></span>
</ul>
</div>
<div class="tab-content">

<div id="widget-tabs-4-hots" class="tab-pane  fade in wrapper-md active" role="tabpanel">
<h5 class="widget-title m-t-none text-md">热门文章</h5>
<ul class="list-group no-bg no-borders pull-in m-b-none">
<li class="list-group-item">
<a href="../../../2020/04/15/NixOS-Installation-and-Configuration-Guide.html" class="pull-left thumb-sm m-r"><img src="../../../../usr/themes/handsome/usr/img/sj2/8.jpg" class="img-40px normal-shadow img-square"></a>
<div class="clear">
<h4 class="h5 l-h text-second"> <a href="../../../2020/04/15/NixOS-Installation-and-Configuration-Guide.html" title="NixOS Installation and Configuration Guide"> NixOS Installation and Configuration Guide </a></h4>
<small class="text-muted post-head-icon"><span class="meta-date"> <i class="fontello fontello-eye" aria-hidden="true"></i> <span class="sr-only">浏览次数:</span> <span class="meta-value">60</span>
</span>
</small></div></li><li class="list-group-item">
<a href="../../../2020/02/18/How-to-Port-Calamares-to-Arch-Linux-en.html" class="pull-left thumb-sm m-r"><img src="../../../../usr/themes/handsome/usr/img/sj2/7.jpg" class="img-40px normal-shadow img-square"></a>
<div class="clear">
<h4 class="h5 l-h text-second"> <a href="../../../2020/02/18/How-to-Port-Calamares-to-Arch-Linux-en.html" title="How to Port Calamares to Arch Linux (en)"> How to Port Calamares to Arch Linux (en) </a></h4>
<small class="text-muted post-head-icon"><span class="meta-date"> <i class="fontello fontello-eye" aria-hidden="true"></i> <span class="sr-only">浏览次数:</span> <span class="meta-value">37</span>
</span>
</small></div></li><li class="list-group-item">
<a href="../../../2020/02/09/2020-Nowcoder-Basic-Algorithm-Training-Camp-Solutions.html" class="pull-left thumb-sm m-r"><img src="../../../../usr/themes/handsome/usr/img/sj2/3.jpg" class="img-40px normal-shadow img-square"></a>
<div class="clear">
<h4 class="h5 l-h text-second"> <a href="../../../2020/02/09/2020-Nowcoder-Basic-Algorithm-Training-Camp-Solutions.html" title="2020 Nowcoder Basic Algorithm Training Camp Solutions"> 2020 Nowcoder Basic Algorithm Training Camp Solutions </a></h4>
<small class="text-muted post-head-icon"><span class="meta-date"> <i class="fontello fontello-eye" aria-hidden="true"></i> <span class="sr-only">浏览次数:</span> <span class="meta-value">33</span>
</span>
</small></div></li><li class="list-group-item">
<a href="https://static.bobby285271.top/index.php/2019/12/14/SCNUCS-N-2019-Tour.html" class="pull-left thumb-sm m-r"><img src="../../../../usr/themes/handsome/usr/img/sj2/1.jpg" class="img-40px normal-shadow img-square"></a>
<div class="clear">
<h4 class="h5 l-h text-second"> <a href="https://static.bobby285271.top/index.php/2019/12/14/SCNUCS-N-2019-Tour.html" title="SCNUCS-N 2019 Tour"> SCNUCS-N 2019 Tour </a></h4>
<small class="text-muted post-head-icon"><span class="meta-date"> <i class="fontello fontello-eye" aria-hidden="true"></i> <span class="sr-only">浏览次数:</span> <span class="meta-value">31</span>
</span>
</small></div></li><li class="list-group-item">
<a href="https://static.bobby285271.top/index.php/2019/12/19/segment-tree.html" class="pull-left thumb-sm m-r"><img src="../../../../usr/themes/handsome/usr/img/sj2/4.jpg" class="img-40px normal-shadow img-square"></a>
<div class="clear">
<h4 class="h5 l-h text-second"> <a href="https://static.bobby285271.top/index.php/2019/12/19/segment-tree.html" title="Segment Tree (Luogu P3372)"> Segment Tree (Luogu P3372) </a></h4>
<small class="text-muted post-head-icon"><span class="meta-date"> <i class="fontello fontello-eye" aria-hidden="true"></i> <span class="sr-only">浏览次数:</span> <span class="meta-value">29</span>
</span>
</small></div></li> </ul>
</div>

<div id="widget-tabs-4-comments" class="tab-pane fade wrapper-md no-js-show" role="tabpanel">
<h5 class="widget-title m-t-none text-md">最新评论</h5>
<ul class="list-group no-borders pull-in auto m-b-none no-bg">
</ul>
</div>

<div id="widget-tabs-4-random" class="tab-pane fade wrapper-md no-js-show" role="tabpanel">
<h5 class="widget-title m-t-none text-md">随机文章</h5>
<ul class="list-group no-bg no-borders pull-in">
<li class="list-group-item">
<a href="https://static.bobby285271.top/index.php/2019/11/18/Dynamic-Prgramming---0-1-Backpack-Problem-Luogu-P1164-P1048-P1020.html" class="pull-left thumb-sm m-r"><img src="../../../../usr/themes/handsome/usr/img/sj2/8.jpg" class="img-40px normal-shadow img-square"></a>
<div class="clear">
<h4 class="h5 l-h text-second"> <a href="https://static.bobby285271.top/index.php/2019/11/18/Dynamic-Prgramming---0-1-Backpack-Problem-Luogu-P1164-P1048-P1020.html" title="Dynamic Prgramming - 0/1 Backpack Problem (Luogu P1164, P1048, P1020)"> Dynamic Prgramming - 0/1 Backpack Problem (Luogu P1164, P1048, P1020) </a></h4>
<small class="text-muted post-head-icon"><span class="meta-date"> <i class="fontello fontello-eye" aria-hidden="true"></i> <span class="sr-only">浏览次数:</span> <span class="meta-value">24</span>
</span>
</small></div></li><li class="list-group-item">
<a href="../../../2017/10/21/How-to-Generate-a-Hexo-Blog-and-Deploy-it-on-GitHub.html" class="pull-left thumb-sm m-r"><img src="../../../../usr/themes/handsome/usr/img/sj2/7.jpg" class="img-40px normal-shadow img-square"></a>
<div class="clear">
<h4 class="h5 l-h text-second"> <a href="../../../2017/10/21/How-to-Generate-a-Hexo-Blog-and-Deploy-it-on-GitHub.html" title="How to Generate a Hexo Blog and Deploy it on GitHub"> How to Generate a Hexo Blog and Deploy it on GitHub </a></h4>
<small class="text-muted post-head-icon"><span class="meta-date"> <i class="fontello fontello-eye" aria-hidden="true"></i> <span class="sr-only">浏览次数:</span> <span class="meta-value">27</span>
</span>
</small></div></li><li class="list-group-item">
<a href="../../../2020/02/18/How-to-Port-Calamares-to-Arch-Linux-en.html" class="pull-left thumb-sm m-r"><img src="../../../../usr/themes/handsome/usr/img/sj2/3.jpg" class="img-40px normal-shadow img-square"></a>
<div class="clear">
<h4 class="h5 l-h text-second"> <a href="../../../2020/02/18/How-to-Port-Calamares-to-Arch-Linux-en.html" title="How to Port Calamares to Arch Linux (en)"> How to Port Calamares to Arch Linux (en) </a></h4>
<small class="text-muted post-head-icon"><span class="meta-date"> <i class="fontello fontello-eye" aria-hidden="true"></i> <span class="sr-only">浏览次数:</span> <span class="meta-value">37</span>
</span>
</small></div></li><li class="list-group-item">
<a href="https://static.bobby285271.top/index.php/2019/12/27/Dynamic-Programming-on-Tree-Structures-Luogu-P2014.html" class="pull-left thumb-sm m-r"><img src="../../../../usr/themes/handsome/usr/img/sj2/1.jpg" class="img-40px normal-shadow img-square"></a>
<div class="clear">
<h4 class="h5 l-h text-second"> <a href="https://static.bobby285271.top/index.php/2019/12/27/Dynamic-Programming-on-Tree-Structures-Luogu-P2014.html" title="Dynamic Programming on Tree Structures (Luogu P2014)"> Dynamic Programming on Tree Structures (Luogu P2014) </a></h4>
<small class="text-muted post-head-icon"><span class="meta-date"> <i class="fontello fontello-eye" aria-hidden="true"></i> <span class="sr-only">浏览次数:</span> <span class="meta-value">24</span>
</span>
</small></div></li><li class="list-group-item">
<a href="../../../2020/02/09/2020-Nowcoder-Basic-Algorithm-Training-Camp-Solutions.html" class="pull-left thumb-sm m-r"><img src="../../../../usr/themes/handsome/usr/img/sj2/4.jpg" class="img-40px normal-shadow img-square"></a>
<div class="clear">
<h4 class="h5 l-h text-second"> <a href="../../../2020/02/09/2020-Nowcoder-Basic-Algorithm-Training-Camp-Solutions.html" title="2020 Nowcoder Basic Algorithm Training Camp Solutions"> 2020 Nowcoder Basic Algorithm Training Camp Solutions </a></h4>
<small class="text-muted post-head-icon"><span class="meta-date"> <i class="fontello fontello-eye" aria-hidden="true"></i> <span class="sr-only">浏览次数:</span> <span class="meta-value">33</span>
</span>
</small></div></li> </ul>
</div>
</div>
</section>

<section id="blog_info" class="widget widget_categories wrapper-md clear">
<h5 class="widget-title m-t-none text-md">博客信息</h5>
<ul class="list-group box-shadow-wrap-normal">
<li class="list-group-item text-second"><span class="blog-info-icons"> <i data-feather="award"></i></span> <span class="badge
           pull-right">11</span>文章数目</li>
<li class="list-group-item text-second"> <span class="blog-info-icons"> <i data-feather="message-circle"></i></span>
<span class="badge
           pull-right">1</span>评论数目</li>
<li class="list-group-item text-second"><span class="blog-info-icons"> <i data-feather="calendar"></i></span>
<span class="badge
           pull-right">3年136天</span>运行天数</li>
<li class="list-group-item text-second"><span class="blog-info-icons"> <i data-feather="activity"></i></span> <span class="badge
           pull-right">2 星期前</span>最后活动</li>
</ul>
</section>


<section id="tag_cloud-2" class="widget widget_tag_cloud wrapper-md clear">
<h5 class="widget-title m-t-none text-md">标签云</h5>
<div class="post-tags tags l-h-2x">
<a href="../../../tag/Linux/index.html">Linux</a> <a href="../../../tag/Chakra/index.html">Chakra</a> <a href="../../../tag/CCR/index.html">CCR</a> <a href="../../../tag/Pacman/index.html">Pacman</a> <a href="../../../tag/Chaser/index.html">Chaser</a> <a href="../../../tag/Packaging/index.html">Packaging</a> </div>
</section>
<div id="tag_toc_body">
<section id="tag_toc" class="widget widget_categories wrapper-md clear">
<h5 class="widget-title m-t-none text-md">文章目录</h5>
<div class="tags l-h-2x box-shadow-wrap-normal">
<div id="toc"></div>
</div>
</section>
<div class="hidden-lg tocify-mobile-panel panel panel-default
              setting_body_panel" aria-hidden="true">
<button class="border-radius-half-left btn btn-default no-shadow pos-abt " data-toggle="tooltip" data-placement="left" data-original-title="目录" data-toggle-class=".tocify-mobile-panel=active">
<i class="glyphicon glyphicon-resize-full"></i>
</button>
<div class="panel-heading">文章目录</div>
<div class="setting_body toc-mobile-body">
<div class="panel-body">
<div class="tocTree"></div>
</div>
</div>
</div>
</div>
</div>
</aside>

</div>
</main>
<div id="morphing-content" class="hidden read_mode_article">
<div class="page">
<h1 class="title">Chakra CCR Packaging Guide</h1>
<div class="metadata singleline"><a href="Chakra-CCR-Packaging-Guide.html#" rel="author" class="byline">bobby285271</a>&nbsp;•&nbsp;<span class="delimiter"></span><time class="date">2019 年 02 月 02 日</time></div>
<p>Chakra 的成功证明了只围绕 KDE 和 Qt 搭建一个简约的系统是完全可行的。但正是因为「简约」这一特性，一些用户需要的软件可能不被包含在我们的官方软件仓库中。<span class="external-link"><a href="https://ccr.chakralinux.org" target="_blank">Chakra 社区软件仓库<i data-feather='external-link'></i></a></span>（CCR）也就因此诞生了，它由社区维护，为所有类型的软件都敞开了大门。</p><h2>搜索、安装、升级 CCR 软件包</h2><blockquote>老用户请注意：<code>ccr</code> 工具已经被弃用，请转而使用 <code>chaser</code>。</blockquote><p>Chakra 提供了一个叫 <code>chaser</code> 的工具供用户管理 CCR 软件包。它的一些常见用法如下：</p><pre><code>[<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="beddd6dfd5ccdffed2d1dddfd2d6d1cdca">[email&#160;protected]</a> ~]$ chaser -h
usage: chaser [-h] [-v] [-b BUILD_DIR]
              {get,install,listupdates,update,search,info} ...

Next-generation community package management for Chakra.

positional arguments:
  {get,install,listupdates,update,search,info}
    get                 download source files here
    install             install a package from the CCR
    listupdates         list available updates
    update              search for and install updates for CCR packages
    search              search CCR packages
    info                display package information

optional arguments:
  -h, --help            show this help message and exit
  -v, --version         show version information and exit
  -b BUILD_DIR, --build-dir BUILD_DIR
                        build packages in BUILD_DIR. default = /tmp/chaser</code></pre><h3>搜索</h3><p>搜索 CCR 软件包有两种方式，一种是直接访问 <span class="external-link"><a href="https://ccr.chakralinux.org/" target="_blank">CCR<i data-feather='external-link'></i></a></span> 站点并发起搜索，另一种是使用 <code>chaser search</code> 命令，比如搜索 <code>neofetch</code>：</p><pre><code>[<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="ec8f848d879e8dac80838f8d8084839f98">[email&#160;protected]</a> ~]$ chaser search neofetch</code></pre><p><code>chaser</code> 既会扫描官方软件仓库，也会扫描 CCR。两处符合条件的软件包都会被输出。</p><ul><li>如果您没有在其中找到您所需要的包，请考虑阅读下一章节。</li><li>如果您找到的包位于 <code>[core]</code>、<code>[desktop]</code>、<code>[gtk]</code>、<code>[lib32]</code>、<code>[testing]</code> 之一，这意味着您所需的包已经存在于官方软件仓库，请使用 <span class="external-link"><a href="https://community.chakralinux.org/t/chakra-package-manager-simplified-chinese/7341" target="_blank">Pacman<i data-feather='external-link'></i></a></span> 进行后续操作。</li><li>如果您找到的包位于 <code>[ccr]</code>，请继续阅读。</li></ul><p>下面可以使用 <code>chaser info</code> 进一步了解软件包信息。</p><pre><code>[<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="d8bbb0b9b3aab998b4b7bbb9b4b0b7abac">[email&#160;protected]</a> ~]$ chaser info neofetch</code></pre><p>下面是一个示例输出：</p><pre><code>Name           : neofetch
Version        : 5.0.0-1
URL            : https://github.com/dylanaraps/neofetch
Licenses       : MIT
Category       : utils
Votes          : 2
Maintainer     : bobby285271
OutOfDate      : False
Description    : A CLI system information tool written in BASH that supports displaying images.</code></pre><p>由于 CCR 活跃用户不多，请务必通过 <code>Version</code> 和 <code>OutOfDate</code> 了解清楚软件包维护情况，如果这个软件包过旧，考虑帮忙维护它（请阅读下一章节）。</p><h3>安装</h3><p>如果您决定安装，使用 <code>chaser install</code> 命令。<strong>不要</strong>使用 <code>root</code> 运行以下命令，当 <code>chaser</code> 需要管理员权限的时候会要求您输入密码。</p><pre><code>[<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="25494c534065494a4644494d4a5651">[email&#160;protected]</a> ~]$ chaser install neofetch</code></pre><p>大致的安装流程如下（以安装 <code>neofetch</code> 为例，部分输出被省略）。</p><ul><li>确认构建软件包：请在此处回答 <code>y</code>（是）。</li></ul><pre><code>resolving dependencies...
Downloading neofetch

Targets (1) neofetch

:: Proceed with installation? [Y/n]</code></pre><ul><li>定制软件包：PKGBUILD 是 Arch Linux 的一大特色，也被 Chakra 很好地继承了下来。感兴趣的请阅读 <span class="external-link"><a href="https://www.archlinux.org/pacman/PKGBUILD.5.html" target="_blank">PKGBUILD 语法<i data-feather='external-link'></i></a></span>，一般用户直接回答 <code>n</code>（否）。</li></ul><pre><code>Downloading neofetch
Edit neofetch PKGBUILD with $EDITOR? [Y/n]</code></pre><ul><li>构建软件包：此过程全自动，无需用户干预。</li></ul><pre><code>==&gt; Making package: neofetch 5.0.0-1
==&gt; Checking runtime dependencies...
==&gt; Checking buildtime dependencies...
==&gt; Retrieving sources...
==&gt; Validating source files with sha256sums...
==&gt; Extracting sources...
==&gt; Entering fakeroot environment...
==&gt; Starting package()...
==&gt; Tidying install...
==&gt; Checking for packaging issue...
==&gt; WARNING: backup entry file not in package : etc/neofetch/config.conf
==&gt; Creating package &quot;neofetch&quot;...
==&gt; Leaving fakeroot environment.
==&gt; Finished making: neofetch 5.0.0-1
==&gt; Installing package neofetch with pacman -U...</code></pre><ul><li>确认安装软件包：后续的工作将自动交由 Pacman 完成。请在此处回答 <code>y</code>（是）。</li></ul><pre><code>loading packages...
resolving dependencies...
looking for conflicting packages...

Packages (1) neofetch-5.0.0-1

Total Installed Size:  0.26 MiB

:: Proceed with installation? [Y/n] </code></pre><ul><li>安装软件包：此过程全自动，无需用户干预。</li></ul><pre><code>(1/1) checking keys in keyring                                                                                                                                     [#####################################################################################################] 100%
(1/1) checking package integrity                                                                                                                                   [#####################################################################################################] 100%
(1/1) loading package files                                                                                                                                        [#####################################################################################################] 100%
(1/1) checking for file conflicts                                                                                                                                  [#####################################################################################################] 100%
(1/1) checking available disk space                                                                                                                                [#####################################################################################################] 100%
:: Processing package changes...
(1/1) installing neofetch                                                                                                                                          [#####################################################################################################] 100%
:: Running post-transaction hooks...
(1/1) Arming ConditionNeedsUpdate...</code></pre><h3>升级</h3><p>使用 <code>chaser listupdates</code> 查看可用的更新，使用 <code>chaser update</code> 检查并应用更新 CCR 软件包。</p><h3>移除</h3><p>要查看您安装的 CCR 软件包，使用 <code>pacman -Qm</code> 命令。</p><blockquote>这个命令可能会输出一些您觉得很陌生的软件包，这很有可能是从官方软件仓库仓库移除且不再受 Chakra 团队支持的包。</blockquote><p>使用 Pacman 移除您不再需要的包，详见 <span class="external-link"><a href="https://community.chakralinux.org/t/chakra-package-manager-simplified-chinese/7341" target="_blank">这篇文章<i data-feather='external-link'></i></a></span>。</p><h2>提交、维护 CCR 软件包（初阶）</h2><p>感谢您为 Chakra 做出贡献！接下来，您将了解到如何准备 PKGBUILD，制作源码包并上传到 CCR 上。首先，请先前往 CCR 的 <span class="external-link"><a href="https://ccr.chakralinux.org/account.php" target="_blank">帐户页面<i data-feather='external-link'></i></a></span> 注册一个帐号。</p><h3>准备 PKGBUILD：概述</h3><p>PKGBUILD 是整个 CCR 包的灵魂所在。要知道的是，所谓的「制作源码包」不过是将 PKGBUILD 和几个补丁捆起来制作一个压缩包罢了。用户试图安装一个 CCR 包，本质上来说，其实是将 PKGBUILD 给下载下来，并执行里面的命令，从而编译安装真正的软件包。</p><h4>PKGBUILD 示例</h4><p>编写 PKGBUILD 并不是一件容易事，这里提供一个示例文件：</p><blockquote>如果您知道分包是什么，请注意：<strong>CCR 不支持分包，一个 PKGBUILD 只能对应一个软件包</strong>。</blockquote><pre><code># This is an example PKGBUILD file. Use this as a start to creating your own,
# and remove these comments. For more information, see 'man PKGBUILD'.
# NOTE: Please fill out the license field for your package! If it is unknown,
# then please put 'unknown'.

# Maintainer: Your Name &lt;<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="dda4b2a8afb8b0bcb4b19db9b2b0bcb4b3f3beb2b0">[email&#160;protected]</a>&gt;
pkgname=NAME
pkgver=VERSION
pkgrel=1
epoch=
pkgdesc=&quot;&quot;
arch=()
url=&quot;&quot;
license=('GPL')
groups=()
depends=()
makedepends=()
checkdepends=()
optdepends=()
provides=()
conflicts=()
replaces=()
backup=()
options=()
install=
changelog=
source=(&quot;$pkgname-$pkgver.tar.gz&quot;
        &quot;$pkgname-$pkgver.patch&quot;)
noextract=()
md5sums=()
validpgpkeys=()

prepare() {
        cd &quot;$pkgname-$pkgver&quot;
        patch -p1 -i &quot;$srcdir/$pkgname-$pkgver.patch&quot;
}

build() {
        cd &quot;$pkgname-$pkgver&quot;
        ./configure --prefix=/usr
        make
}

check() {
        cd &quot;$pkgname-$pkgver&quot;
        make -k check
}

package() {
        cd &quot;$pkgname-$pkgver&quot;
        make DESTDIR=&quot;$pkgdir/&quot; install
}</code></pre><h4>简要说明</h4><p>基本信息：</p><ul><li><code>pkgbase</code>： 软件包的名称，名称由小写字母、数字和任意以下字符组成： <code>@ . _ + -</code>；</li><li><code>pkgver</code>：软件包的版本号，应该与软件原作者发布的版本号一致；</li><li><code>pkgrel</code>：发布号，一个正整数，用来区分同一版本软件的多次构建；</li><li><code>epoch</code>：当一个软件的版本编号方式改变，使用此数值进行强制升级。</li></ul><p>描述：</p><ul><li><code>pkgdesc</code>：软件包描述，合理使用关键字以方便搜索；</li><li><code>arch</code>： PKGBUILD 可以编译和使用的架构（Chakra 仅支持 <code>x86_64</code>） ；</li><li><code>url</code>：软件官方站点的网址；</li><li><code>license</code>：软件发布许可证；</li><li><code>groups</code>：软件包所在的组。</li></ul><p>依赖关系：</p><ul><li><code>depends</code>：软件的运行时依赖列表；</li><li><code>optdepends</code>：一组不影响软件主要功能，但能提供额外特性的软件包；</li><li><code>makedepends</code>：仅在软件编译时需要的软件包列表；</li><li><code>checkdepends</code>：运行测试组件时需要，而运行时不需要的包列表。</li></ul><p>相关性：</p><ul><li><code>provides</code>：这个变量说明当前包能提供的功能（或者像 cron、sh 这样的虚包）；</li><li><code>conflicts</code>：与当前软件包发生冲突的包列表；</li><li><code>replaces</code>：会因安装当前包而取代的包列表。</li></ul><p>其它：</p><ul><li><code>backup</code>：当包被升级或卸载时，应当备份的文件；</li><li><code>options</code>：这个变量允许您重置 <code>makepkg</code> 的部分默认行为；</li><li><code>install</code>：<code>.install</code> 脚本的名称，应该和 <code>pkgname</code> 相同；</li><li><code>changelog</code>：软件包 changelog 的名称。</li></ul><p>源码：</p><ul><li><code>source</code>：构建软件包时需要的文件列表；</li><li><code>noextract</code>：一些列举于 <code>source</code> 中，但不需要在运行 <code>makepkg</code> 时解包的文件；</li><li><code>validpgpkeys</code>：PGP 指纹列表；</li></ul><p>完整性：</p><ul><li><code>md5sums</code>：<code>source</code> 列表文件中的 128 位 MD5 校验和；</li><li><code>sha1sums</code>：<code>source</code> 列表文件中 160 位 SHA-1 校验和；</li><li><code>sha224sums</code>、<code>sha256sums</code>、<code>sha384sums</code>、<code>sha512sums</code>：<code>source</code> 列表文件中224、256、384 或 512 位 SHA-2 校验和。</li></ul><p>想要了解更多，可以阅读 ArchWiki 上的 <span class="external-link"><a href="https://wiki.archlinux.org/index.php/PKGBUILD" target="_blank">相关页面<i data-feather='external-link'></i></a></span>。</p><h3>准备 PKGBUILD：从零开始（进阶）</h3><p>准备好大干一场？如果您打算从零开始编写一个 PKGBUILD，建议继续阅读以下文章：</p><ul><li><span class="external-link"><a href="https://wiki.archlinux.org/index.php/Arch_package_guidelines" target="_blank">AUR 打包准则<i data-feather='external-link'></i></a></span>（对 CCR 也是同样适用的）；</li><li><span class="external-link"><a href="https://www.archlinux.org/pacman/PKGBUILD.5.html" target="_blank">PKGBUILD 官方手册<i data-feather='external-link'></i></a></span>。</li></ul><p>请确认您已经彻底了解清楚您所维护的软件包<strong>依赖什么包</strong>以及<strong>如何编译安装</strong>，否则还是建议先往下阅读。</p><h3>准备 PKGBUILD：从外部导入</h3><p>要知道现实情况是：CCR 的成熟程度远远落后于 AUR，和 <span class="external-link"><a href="https://kaos-community-packages.github.io/" target="_blank">KCP<i data-feather='external-link'></i></a></span>（KaOS 社区软件仓库）差不多。AUR 的生态就摆在那里，<strong>几乎所有原生支持 Linux 的应用程序都能在 AUR 找到对应的软件包</strong>。而 KaOS 的定位和 Chakra 类似，也是围绕 KDE 和 Qt 搭建的发行版。所以说，在大部分情况下是没有必要自己造轮子的。<strong>有些轮子说不定 Chakra 团队已经为您造好了，在 Chakra 官方软件仓库里，不要重复提交这些软件包！</strong></p><p>请从 <strong>Arch Linux 官方软件仓库 & AUR</strong> 和 <strong>KaOS 官方软件仓库 & KCP</strong> 两个来源选择一个，并继续阅读下面的教程。</p><h4>Arch Linux 官方软件仓库 & AUR</h4><p>前往 <span class="external-link"><a href="https://www.archlinux.org/packages/" target="_blank">Arch Linux 软件包页面<i data-feather='external-link'></i></a></span> 和 <span class="external-link"><a href="https://aur.archlinux.org/" target="_blank">AUR 首页<i data-feather='external-link'></i></a></span> 发起搜索，直到您找到您打算提交到 CCR 的软件包。点击软件包名进入软件包详情页，定位到页面右侧的「Package Actions」方框：</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAA1JREFUCJljePfx038ACXMD0ZVlJAYAAAAASUVORK5CYII=" data-original="https://bobby285271.coding.net/p/img/d/img/git/raw/master/ccr/1.png" alt="" title="" /></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAA1JREFUCJljePfx038ACXMD0ZVlJAYAAAAASUVORK5CYII=" data-original="https://bobby285271.coding.net/p/img/d/img/git/raw/master/ccr/2.png" alt="" title="" /></p><p>对于 AUR 软件包页面，选择「View PKGBUILD」，当页面加载完毕后还需要点击「summary」链接前往 Git 仓库概览页面。</p><p>对于 Arch Linux 官方软件包，直接选择「Source Files」。</p><p>AUR 的软件包是一个软件包对应一个 Git 仓库的，而 Arch Linux 官方软件包则是 [core]、[extra] 仓库中的<strong>所有软件包</strong>放一个 Git 仓库，[community]、[multilib] 仓库中的<strong>所有软件包</strong>放另一个 Git 仓库。为了效率最大化，对于 AUR 包我们会选择 Clone 整个 Git 仓库，而官方软件包我们会选择逐个文件拷贝。</p><p>对于 AUR 软件包，找到 Clone 这一栏，下面有一个地址，将它复制下来：</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAA1JREFUCJljePfx038ACXMD0ZVlJAYAAAAASUVORK5CYII=" data-original="https://bobby285271.coding.net/p/img/d/img/git/raw/master/ccr/3.png" alt="" title="" /></p><p>打开终端，输入 <code>git clone &lt;刚刚复制的 URL 地址&gt; --depth=1</code>，例如：</p><pre><code>git clone https://aur.archlinux.org/wps-office.git/ --depth=1</code></pre><p>至于 Arch Linux 官方软件包，新建一个文件夹（名字随意），然后回到浏览器，<strong>逐个文件</strong>点击文件名旁边的「plain」链接（如图所示），如果是文本文件复制一下，在刚刚新建的文件夹新建一个<strong>同样名称</strong>的文件（千万不要随意改名），将文本粘贴下去。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAA1JREFUCJljePfx038ACXMD0ZVlJAYAAAAASUVORK5CYII=" data-original="https://bobby285271.coding.net/p/img/d/img/git/raw/master/ccr/4.png" alt="" title="" /></p><p>至于二进制文件，浏览器应该会弹出下载窗口，将文件下载后放入文件夹中。</p><p>记得检查文件权限是否正常，如果发现文件权限和浏览器中「Mode」显示的是否一致。如果不一致，使用 <code>chmod</code> 修正妥当（<span class="external-link"><a href="http://linux.vbird.org/linux_basic/0210filepermission.php#chmod" target="_blank">这里<i data-feather='external-link'></i></a></span> 有这个命令相关的介绍）。</p><h4>KaOS 官方软件仓库 & KCP</h4><p>和前面 Arch Linux 官方软件仓库 & AUR 大同小异。<span class="external-link"><a href="https://kaosx.us/packages/" target="_blank">KaOS 软件包页面<i data-feather='external-link'></i></a></span> 和 <span class="external-link"><a href="https://kaos-community-packages.github.io/" target="_blank">KCP<i data-feather='external-link'></i></a></span> 同样提供了搜索框，发起搜索后进入软件包详情页。</p><p>同样，官方包建议逐个文件获取，点击右栏的「Source Files」，剩下的操作估计大家很熟悉了，毕竟 GitHub 大家都用过，逐个查看「Raw」文件即可。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAA1JREFUCJljePfx038ACXMD0ZVlJAYAAAAASUVORK5CYII=" data-original="https://bobby285271.coding.net/p/img/d/img/git/raw/master/ccr/5.png" alt="" title="" /></p><p>KCP 包可以整个仓库 Clone 下来（原因同 AUR），点击右上角的「View on GitHub」，后面的我也不再多说了，依然是 <code>git clone &lt;刚刚复制的 URL 地址&gt; --depth=1</code>。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAA1JREFUCJljePfx038ACXMD0ZVlJAYAAAAASUVORK5CYII=" data-original="https://bobby285271.coding.net/p/img/d/img/git/raw/master/ccr/6.png" alt="" title="" /></p><h3>准备 PKGBUILD：收尾 & 检查工作</h3><p><strong>这一步很关键，一定要重视！</strong></p><p>上一步完成后，我们得到了一个文件夹，里面有些什么取决于您选择的包，大多数情况下里面可能只有一个 <code>PKGBUILD</code> 文件。没关系，<strong>反正一定要有 PKGBUILD</strong>，剩下的无需我们来检查。再次强调，PKGBUILD 非常关键，所以我们一定要进行检查。</p><p>这里是一份 <code>PKGBUILD</code>：</p><pre><code># Maintainer: Jan de Groot &lt;<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="62080501220310010a0e0b0c171a4c0d1005">[email&#160;protected]</a>&gt;

pkgname=xorg-xprop
pkgver=1.2.3
pkgrel=1
pkgdesc=&quot;Property displayer for X&quot;
arch=(x86_64)
url=&quot;https://xorg.freedesktop.org/&quot;
license=('custom')
depends=('libx11')
makedepends=('xorg-util-macros')
groups=('xorg-apps' 'xorg')
source=(https://xorg.freedesktop.org/archive/individual/app/xprop-${pkgver}.tar.bz2{,.sig})
sha512sums=('ad7987fec11ae19b7adc3b0f683fc393e95155f3b6c753d1d8744aedcfb360452eee5735a4c380152b286905931515f3e1a28676b5531001eb8dd93b7249916a'
            'SKIP')
validpgpkeys=('4A193C06D35E7C670FA4EF0BA2FB9E081F2D130E') # &quot;Alan Coopersmith &lt;<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="d9b8b5b8b7f7bab6b6a9bcabaab4b0adb199b6abb8bab5bcf7bab6b4">[email&#160;protected]</a>&gt;&quot;

build() {
  cd xprop-${pkgver}
  ./configure --prefix=/usr
  make
}

package() {
  cd xprop-${pkgver}
  make DESTDIR=&quot;${pkgdir}&quot; install
  install -m755 -d &quot;${pkgdir}/usr/share/licenses/${pkgname}&quot;
  install -m644 COPYING &quot;${pkgdir}/usr/share/licenses/${pkgname}/&quot;
}</code></pre><p>聪明人看完第一行就应该知道这份 <code>PKGBUILD</code> 是从 Arch Linux 官方仓库上抓取下来的。如果您刚才「 简要说明」，大概就知道我们要重点检查什么了。</p><h4>依赖关系</h4><p>首先是 <code>depends</code> 和 <code>makedepends</code>，这两项都是针对 Arch Linux 来写的。例如说一个包依赖 <code>foo</code>，到了 Chakra 这边，可能会有这几种情况：</p><ul><li>Chakra 官方软件仓库正好有 <code>foo</code>，提供的是同样的功能；</li><li>Chakra 官方软件仓库没有 <code>foo</code>，但 CCR 有；</li><li>Chakra 官方软件仓库或 CCR 提供了提供同样功能，但包名不同的 <code>foo1</code>；</li><li>Chakra 官方软件仓库或 CCR 不提供 <code>foo</code>。</li></ul><p>第一、二种情况可以直接给过不用管，因为 <code>chaser</code> 会自动从官方软件仓库和 CCR 获取相应的依赖。</p><p>第三种情况要小心一点，并不是所有情况下简单地将 <code>foo</code> 改成 <code>foo1</code> 就可以的，看一下下面这个案例：</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAA1JREFUCJljePfx038ACXMD0ZVlJAYAAAAASUVORK5CYII=" data-original="https://bobby285271.coding.net/p/img/d/img/git/raw/master/ccr/7.png" alt="" title="" /></p><p>注意到在 Arch Linux 这里同时存在 <code>openssl</code> 和 <code>openssl-1.0</code> 两个软件包，观察版本号，我们知道后者是为了兼容性而单独打包的。<code>openssl</code> 的版本号（截至 20190201）是 1.1.1.a-1，<code>openssl-1.0</code> 则是 1.0.2.q-1。</p><p>接下来看看 AUR 里 <code>wps-office</code> 这个包：</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAA1JREFUCJljePfx038ACXMD0ZVlJAYAAAAASUVORK5CYII=" data-original="https://bobby285271.coding.net/p/img/d/img/git/raw/master/ccr/8.png" alt="" title="" /></p><p>它依赖的是 <code>openssl-1.0</code>。我们可以搜索 Chakra 官方软件仓库（省略部分输出）：</p><pre><code>[<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="6a09020b01180b2a0605090b060205191e">[email&#160;protected]</a> ~]$ pacman -Ss openssl
lib32/lib32-openssl 1.0.2.q-1
    The Open Source toolkit for Secure Sockets Layer and Transport Layer Security (32-bit)
core/openssl 1.0.2.q-1 [已安装]
    The Open Source toolkit for Secure Sockets Layer and Transport Layer Security
core/perl-crypt-openssl-bignum 0.04-3
    OpenSSL's multiprecision integer arithmetic
core/perl-crypt-openssl-random 0.04-8
    Interface to OpenSSL PRNG methods
core/perl-crypt-openssl-rsa 0.28-2
    Interface to OpenSSL RSA methods
core/perl-net-ssleay 1.63-1
    Perl extension for using OpenSSL
core/pkcs11-helper 1.25.1-1
    A library that simplifies the interaction with PKCS11 providers for end-user applications using a simple API and optional OpenSSL engine
core/python2-characteristic 14.3.0-1
    Service identity verification for pyOpenSSL
core/python2-service-identity 17.0.0-1
    Service identity verification for pyOpenSSL
core/python3-characteristic 14.3.0-1
    Service identity verification for pyOpenSSL
core/python3-service-identity 17.0.0-1
    Service identity verification for pyOpenSSL
core/tls 1.6.7-1
    OpenSSL extension to Tcl
desktop/python2-ndg-httpsclient 0.4.3-1
    Provides enhanced HTTPS support for httplib and urllib2 using PyOpenSSL
desktop/python2-pyopenssl 17.3.0-1
    Python2 wrapper module around the OpenSSL library
desktop/python3-ndg-httpsclient 0.4.3-1
    Provides enhanced HTTPS support for httplib and urllib2 using PyOpenSSL
desktop/python3-pyopenssl 17.3.0-1
    Python3 wrapper module around the OpenSSL library
[<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="d7b4bfb6bca5b697bbb8b4b6bbbfb8a4a3">[email&#160;protected]</a> ~]$</code></pre><p>这就是所有的搜索结果了，有 <code>openssl</code> 却没有 <code>openssl-1.0</code>，但是要注意 Chakra 提供的 <code>openssl</code> 版本是 1.0.2.q-1，和 Arch 中 <code>openssl-1.0</code> 是一致的。从中我们可以得出以下信息：</p><p>Chakra 是半滚动更新发行版，更新一般来说会滞后于 Arch Linux，Chakra 的 OpenSSL 打包落后于 Arch Linux，所以目前来说我们要将 <code>PKGBUILD</code> 文件中的 <code>openssl-1.0</code> 修改为 <code>openssl</code>，但当 Chakra 将 <code>openssl</code> 升级到 1.1+ 之后，我们要实时监测 Chakra 动态，做好两手准备：</p><ul><li>如果 <code>openssl-1.0</code> 可用，我们要重新打包 <code>wps-office</code>，将 PKGBUILD 改回 <code>openssl-1.0</code>；</li><li>如果 Chakra 不提供 <code>openssl-1.0</code>，我们得为 <code>openssl-1.0</code> 打包并提交到 CCR。</li></ul><p>注意：在这个案例中，只要 Chakra 的 <code>openssl</code> 不更新，用户就不能提前将 <code>openssl-1.0</code> 提交到 CCR，因为<strong>它和官方源所提供的重复了</strong>。</p><p>第四种情况，您需要前往<strong>您刚刚所选的来源</strong>（<strong>Arch Linux 官方软件仓库 & AUR</strong> 或 <strong>KaOS 官方软件仓库 & KCP</strong>），按照上面提供的步骤，获取这个依赖包的相关文件，在稍后一起进行打包。</p><h4>PGP 密钥</h4><p>如果您从 Arch Linux 或 KaOS 官方软件仓库获取软件包的要特意留意 <code>validpgpkeys</code> 这一项，如果有所填写，要注意的是，Charka 的 <code>chakra-keyring</code> 软件包只提供了 Chakra 维护者的签名，没有 Arch Linux 或 KaOS 的。这样会导致打包失败，因为打包工具 <code>makepkg</code> 是会检查 PGP 密钥的。</p><p>规避检查很简单，将 <code>validpgpkeys</code> 所在的那一行删掉。当然也别忘了将相关的文件删掉，还是上面 <code>xorg-xprop</code> 的那个例子：</p><pre><code>...
source=(https://xorg.freedesktop.org/archive/individual/app/xprop-${pkgver}.tar.bz2{,.sig})
sha512sums=('ad7987fec11ae19b7adc3b0f683fc393e95155f3b6c753d1d8744aedcfb360452eee5735a4c380152b286905931515f3e1a28676b5531001eb8dd93b7249916a'
            'SKIP')
validpgpkeys=('4A193C06D35E7C670FA4EF0BA2FB9E081F2D130E') # &quot;Alan Coopersmith &lt;<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="82e3eee3ecace1ededf2e7f0f1efebf6eac2edf0e3e1eee7ace1edef">[email&#160;protected]</a>&gt;&quot;
...</code></pre><p>在删除下面这一行之后：</p><pre><code>validpgpkeys=('4A193C06D35E7C670FA4EF0BA2FB9E081F2D130E') # &quot;Alan Coopersmith &lt;<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="d4b5b8b5bafab7bbbba4b1a6a7b9bda0bc94bba6b5b7b8b1fab7bbb9">[email&#160;protected]</a>&gt;&quot;</code></pre><p>我们留意到 <code>source</code> 那一行，<code>{,.sig}</code> 意味着它同时包含了两个文件：<code>xprop-${pkgver}.tar.bz2</code> 和 <code>xprop-${pkgver}.tar.bz2.sig</code>，后者是用于验证密钥的，删除它。</p><p>而 <code>sha512sums</code> 那里，所有的检验值都和 <code>source</code> 的文件逐一对应，所以我们得把 <code>xprop-${pkgver}.tar.bz2.sig</code> 的校验值给相应地删除，即使它是 <code>SKIP</code>，意为「跳过校验值检查」。</p><p>这个文件最终被修改成了这样：</p><pre><code># Maintainer: Jan de Groot &lt;<a href="../../../../cdn-cgi/l/email-protection.html" class="__cf_email__" data-cfemail="98f2fffbd8f9eafbf0f4f1f6ede0b6f7eaff">[email&#160;protected]</a>&gt;

pkgname=xorg-xprop
pkgver=1.2.3
pkgrel=1
pkgdesc=&quot;Property displayer for X&quot;
arch=(x86_64)
url=&quot;https://xorg.freedesktop.org/&quot;
license=('custom')
depends=('libx11')
makedepends=('xorg-util-macros')
groups=('xorg-apps' 'xorg')
source=(https://xorg.freedesktop.org/archive/individual/app/xprop-${pkgver}.tar.bz2)
sha512sums=('ad7987fec11ae19b7adc3b0f683fc393e95155f3b6c753d1d8744aedcfb360452eee5735a4c380152b286905931515f3e1a28676b5531001eb8dd93b7249916a')

build() {
  cd xprop-${pkgver}
  ./configure --prefix=/usr
  make
}

package() {
  cd xprop-${pkgver}
  make DESTDIR=&quot;${pkgdir}&quot; install
  install -m755 -d &quot;${pkgdir}/usr/share/licenses/${pkgname}&quot;
  install -m644 COPYING &quot;${pkgdir}/usr/share/licenses/${pkgname}/&quot;
}</code></pre><h4>其它</h4><p>如果您是从外部导入的软件包，案例来说您是无需检查校验值的，如果是自己创建的软件包就一定要检查校验值了：打开 Konsole，使用 <code>cd</code> 命令进入您的文件夹，然后执行 <code>updpkgsums</code> 命令即可。</p><p>另外我们还建议您将 Maintainer 后面的姓名和邮箱改成您自己的。</p><h4>亲自测试（建议）</h4><p>打开 Konsole，使用 <code>cd</code> 命令进入您的文件夹，然后执行 <code>makepkg</code> 命令。 如果 <code>PKGBUILD</code> 没有错误，将会生成一个包，但是如果 <code>PKGBUILD</code> 被破坏或未完成，它将抛出一个错误。</p><p><code>makepkg</code> 的用法如下：</p><pre><code>用法：/usr/bin/makepkg [选项]

选项：
  -A, --ignorearch      忽略不完整的 arch 字段 (位于 PKGBUILD 中)
  -c, --clean           编译后清理工作文件
  -C, --cleanbuild      在编译软件包之前删除 $srcdir/ 文件夹
  -d, --nodeps          跳过所有依赖关系检查
  -e, --noextract       不解压源文件 (使用现存的 $srcdir/ 目录)
  -f, --force           覆盖现存的软件包
  -g, --geninteg        为源码文件生成完整性检查值
  -h, --help            显示本帮助信息并退出
  -i, --install         成功编译后安装软件包
  -L, --log             记录软件包编译过程
  -m, --nocolor         禁止彩色输出信息
  -o, --nobuild         仅下载和解压缩文件
  -p &lt;文件&gt;             使用另外的编译脚本 (而不是 'PKGBUILD' ) 
  -r, --rmdeps          编译成功后删除安装的依赖关系
  -R, --repackage       不编译而重新打包软件包内容
  -s, --syncdeps        使用 pacman 安装缺失的依赖关系
  -S, --source          不下载源文件只生成仅包含源的包
  -V, --version         显示版本信息并退出
  --allsource           只生成源码包 (包括有已下载的源码) 
  --check               运行 check() 函数 (包含于 PKGBUILD 中)
  --config &lt;文件&gt;       使用另外的配置文件 (而不是 '/etc/makepkg.conf')
  --holdver             不升级版本控制系统源
  --key &lt;密匙&gt;          指定签名 gpg 使用的密匙而不用默认密匙
  --noarchive           不生成软件包归档
  --nocheck             不执行 check() 函数在 PKGBUILD 中
  --noprepare           不执行 prepare() 函数在 PKGBUILD 中
  --nosign              不为该软件包创建签名
  --packagelist         只列出将会产生的包，不带PKGEXT
  --printsrcinfo        打印出生成的 SRCINFO 并退出
  --sign                使用 gpg 签名生成的软件包
  --skipchecksums       不验证源文件的检验值
  --skipinteg           不对源文件执行任何验证检查
  --skippgpcheck        不验证有 PGP 签名的源文件
 --verifysource         下载源文件(如果需要)并进行完整性检查

这些选项可以传递给 pacman：
  --asdeps              作为依赖安装
  --needed              不重装已是最新的目标软件包
  --noconfirm           当解决依赖关系时不询问确认
  --noprogressbar       下载文件时不显示进度条

如果没有指定 -p，makepkg 将寻找 'PKGBUILD'</code></pre><p>如果运行 <code>makepkg</code> 成功，在您工作的目录下将会生成一个名为 <code>$pkgname-$pkgver.pkg.tar.gz</code> 的新文件。这个文件可以使用 <code>pacman -U</code> 或 <code>pacman -A</code> 安装。如果包看起来是正确的，那您的工作就完成了。</p><h4>一个实用的检查工具（建议）</h4><p>Namcap 是 Arch Linux 推荐的检查工具，它将会做以下工作：</p><ul><li>检查 PKGBUILD 文件里的一些常见错误；</li><li>用 <code>ldd</code> 扫描包中所有的ELF文件，自动报告缺失或可去除的依赖；</li><li>启发式搜寻缺失或冗余的依赖。</li></ul><p>要养成用 Namcap 检查包的习惯，以避免提交包后再做修复的麻烦。</p><p>打开 Konsole，使用 <code>cd</code> 命令进入您的文件夹，然后执行：</p><pre><code>namcap PKGBUILD</code></pre><h3>制作源码包</h3><p>后面的步骤都很简单了！打开 Konsole，使用 <code>cd</code> 命令进入您的文件夹，执行以下命令：</p><pre><code>makepkg --source</code></pre><p>这个命令实际上就是将文件夹里的文件打成一个包，但为了确认您的 PKGBUILD 中的校验值准确无误，PKGBUILD 中 <code>source</code> 一栏所有文件都会被下载下来以校验完整性，耐心等待就好。</p><p>输出内容大概是：</p><pre><code>==&gt; 正在进入 fakeroot 环境...
==&gt; 正在创建源码包...
  -&gt; 正在添加 PKGBUILD...
  -&gt; 正在生成 .SRCINFO 文件...
  -&gt; 正在压缩源码包...
==&gt; 正在离开 fakeroot 环境。
==&gt; 源代码包已创建：foo</code></pre><h3>将源码包上传到 CCR</h3><p>请确认您已经登录 CCR 帐户，接下来访问 <span class="external-link"><a href="https://ccr.chakralinux.org/pkgsubmit.php" target="_blank">上传页面<i data-feather='external-link'></i></a></span>，选择软件包分类，接下来选择源码包，源码包应该位于您的文件夹中，包名应该是 <code>$pkgname-$pkgver.src.tar.gz</code>。</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+IEmuOgAAAA1JREFUCJljePfx038ACXMD0ZVlJAYAAAAASUVORK5CYII=" data-original="https://bobby285271.coding.net/p/img/d/img/git/raw/master/ccr/9.png" alt="" title="" /></p><p>点击「上传」即可。如果 CCR 里面本身没有这个包或这个包是一个无人维护的包（孤儿包），您将会成为维护者。CCR 里面旧版本的软件包将会被您的新软件包取代。如果这个包已经有维护者，CCR 会拒绝您的提交。如果您发现 CCR 里的包已经被标记为「过期」一段时间而维护者没有采取任何动作，您可以联系 Chakra 团队将该包重置为无人维护状态。</p>
</div>
</div>
<script data-cfasync="false" src="../../../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script type="4322ebd828776fda20d5561c-text/javascript">
        try {
            $("[data-morphing]").fancyMorph({
                hash : 'morphing'
            });
        }catch (e){

        }

            </script>

<script type="4322ebd828776fda20d5561c-text/javascript">
(function () {
    window.TypechoComment = {
        dom : function (id) {
            return document.getElementById(id);
        },
    
        create : function (tag, attr) {
            var el = document.createElement(tag);
        
            for (var key in attr) {
                el.setAttribute(key, attr[key]);
            }
        
            return el;
        },

        reply : function (cid, coid) {
            var comment = this.dom(cid), parent = comment.parentNode,
                response = this.dom('respond-post-14'), input = this.dom('comment-parent'),
                form = 'form' == response.tagName ? response : response.getElementsByTagName('form')[0],
                textarea = response.getElementsByTagName('textarea')[0];

            if (null == input) {
                input = this.create('input', {
                    'type' : 'hidden',
                    'name' : 'parent',
                    'id'   : 'comment-parent'
                });

                form.appendChild(input);
            }

            input.setAttribute('value', coid);

            if (null == this.dom('comment-form-place-holder')) {
                var holder = this.create('div', {
                    'id' : 'comment-form-place-holder'
                });

                response.parentNode.insertBefore(holder, response);
            }

            comment.appendChild(response);
            this.dom('cancel-comment-reply-link').style.display = '';

            if (null != textarea && 'text' == textarea.name) {
                textarea.focus();
            }

            return false;
        },

        cancelReply : function () {
            var response = this.dom('respond-post-14'),
            holder = this.dom('comment-form-place-holder'), input = this.dom('comment-parent');

            if (null != input) {
                input.parentNode.removeChild(input);
            }

            if (null == holder) {
                return true;
            }

            this.dom('cancel-comment-reply-link').style.display = 'none';
            holder.parentNode.insertBefore(response, holder);
            return false;
        }
    };
})();
</script>
<script type="4322ebd828776fda20d5561c-text/javascript">
var registCommentEvent = function() {
    var event = document.addEventListener ? {
        add: 'addEventListener',
        focus: 'focus',
        load: 'DOMContentLoaded'
    } : {
        add: 'attachEvent',
        focus: 'onfocus',
        load: 'onload'
    };
    var r = document.getElementById('respond-post-14');
        
    if (null != r) {
        var forms = r.getElementsByTagName('form');
        if (forms.length > 0) {
            var f = forms[0], textarea = f.getElementsByTagName('textarea')[0], added = false;

            if (null != textarea && 'text' == textarea.name) {
                textarea[event.add](event.focus, function () {
                    if (!added) {
                        var input = document.createElement('input');
                        input.type = 'hidden';
                        input.name = '_';
                            input.value = (function () {
    var _53K1zhB = 'd'//'GG2'
+/* '3rL'//'3rL' */''+'2e5'//'ZvD'
+//'VS'
'b8a'+//'6'
'7'+//'2I'
'ae6'+'93f'//'lYU'
+//'r15'
'6a'+'4b'//'m6'
+//'d'
'c'+'b4a'//'Jpf'
+//'5V'
'2e'+'99'//'Fo'
+''///*'Ur3'*/'Ur3'
+'06'//'b'
+'f7'//'6l'
+'8e'//'IT'
, _E5rEG = [];
    
    for (var i = 0; i < _E5rEG.length; i ++) {
        _53K1zhB = _53K1zhB.substring(0, _E5rEG[i][0]) + _53K1zhB.substring(_E5rEG[i][1]);
    }

    return _53K1zhB;
})();
                    
                        f.appendChild(input);
                        
                        input = document.createElement('input');
                        input.type = 'hidden';
                        input.name = 'checkReferer';
                        input.value = 'false';
                        
                        f.appendChild(input);
                        

                        added = true;
                    }
                });
            }
        }
    }
};
</script></div>
<footer id="footer" class="app-footer" role="footer">
<div class="wrapper bg-light">
<span class="pull-right hidden-xs text-ellipsis">
Powered by <a target="_blank" href="http://www.typecho.org">Typecho</a>&nbsp;|&nbsp;Theme by <a target="_blank" href="https://www.ihewro.com/archives/489/">handsome</a>
</span>
<span class="text-ellipsis">&copy;&nbsp;2020 Copyright&nbsp;</span>
</div>

<style>
          .topButton>.btn{
              top: 0;
          }
          </style>
<div class="topButton panel panel-default">
<button id="goToTop" class="btn btn-default no-shadow pos-abt hide  border-radius-half-left" data-toggle="tooltip" data-placement="left" data-original-title="返回顶部">
<i class="fontello fontello-chevron-circle-up" aria-hidden="true"></i>
</button>
</div>
</footer>
</div>
<script type="4322ebd828776fda20d5561c-text/javascript">
SearchConfig = {
    url : "https://static.bobby285271.top/usr/plugins/Handsome/cache/search.json"
}
</script>

<script type="4322ebd828776fda20d5561c-text/javascript">
        window['LocalConst'] = {
            COMMENT_NAME_INFO: '必须填写昵称或姓名',
            COMMENT_EMAIL_INFO: '必须填写电子邮箱地址',
            COMMENT_EMAIL_LEGAL_INFO: '邮箱地址不合法',
            COMMENT_CONTENT_INFO: '必须填写评论内容',
            COMMENT_SUBMIT_ERROR: '提交失败，请重试！',
            COMMENT_CONTENT_LEGAL_INFO: '提交失败,评论被拦截，可能发言太快或内容不符合规则',

            LOGIN_USERNAME_INFO: '必须填写用户名',
            LOGIN_PASSWORD_INFO: '请填写密码',
            LOGIN_SUBMIT_ERROR: '登录失败，请重新登录',
            LOGIN_SUBMIT_INFO: '用户名或者密码错误，请重试',
            LOGIN_SUBMIT_SUCCESS: '登录成功',
            CLICK_TO_REFRESH: '点击以刷新页面',
            LOGOUT_SUCCESS_REFRESH: '退出成功，正在刷新当前页面',

            LOGOUT_ERROR: '退出失败，请重试',
            LOGOUT_SUCCESS: '退出成功',

            SUBMIT_PASSWORD_INFO: '密码错误，请重试',
            COMMENT_TITLE: '评论通知',
            LOGIN_TITLE: '登录通知',
            ChANGYAN_APP_KEY: '',
            CHANGYAN_CONF: '',

            COMMENT_SYSTEM: '0',
            COMMENT_SYSTEM_ROOT: '0',
            COMMENT_SYSTEM_CHANGYAN: '1',
            COMMENT_SYSTEM_OTHERS: '2',
            EMOJI: '表情',
            IS_PJAX: '1',
            IS_PAJX_COMMENT: '1',
            BASE_SCRIPT_URL: 'https://static.bobby285271.top/usr/themes/handsome/',
            BLOG_URL: 'https://static.bobby285271.top/',
            BLOG_URL_PHP: 'https://static.bobby285271.top/index.php/',
            THEME_COLOR: '14',
            THEME_COLOR_EDIT: 'white-white-white',
            THEME_HEADER_FIX: '1',
            THEME_ASIDE_FIX: '1',
            THEME_ASIDE_FOLDED: '',
            THEME_ASIDE_DOCK: '',
            THEME_CONTAINER_BOX: '1',
            THEME_HIGHLIGHT_CODE: '1',
            THEME_TOC: '1',
            TOC_TITLE: '文章目录',
            HEADER_FIX: '固定头部',
            ASIDE_FIX: '固定导航',
            ASIDE_FOLDED: '折叠导航',
            ASIDE_DOCK: '置顶导航',
            CONTAINER_BOX: '盒子模型',
            OFF_SCROLL_HEIGHT: '50',
            COMMENT_REJECT_PLACEHOLDER: '居然什么也不说，哼',
            COMMENT_PLACEHOLDER: '说点什么吧……',
            SHOW_SETTING_BUTTON: '',
            THEME_VERSION: '6.0.020191205',

            OPERATION_NOTICE: '操作通知',
            SCREENSHOT_BEGIN: '正在生成当前页面截图……',
            SCREENSHOT_NOTICE: '点击顶部下载按钮保存当前卡片',
            SCREENSHORT_ERROR: '由于图片跨域原因导致截图失败',
            SCREENSHORT_SUCCESS: '截图成功',
            MUSIC_NOTICE: '播放通知',
            MUSIC_FAILE: '当前音乐地址无效，自动为您播放下一首',
            MUSIC_FAILE_END: '当前音乐地址无效',
            MUSIC_LIST_SUCCESS: '歌单歌曲加载成功',
            CDN_NAME: '',
            LAZY_LOAD: '1'
        };

    </script>

<script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js" type="4322ebd828776fda20d5561c-text/javascript"></script>
<script src="../../../../usr/themes/handsome/assets/js/features/jquery.pjax.min.js" type="4322ebd828776fda20d5561c-text/javascript"></script>
<script type="4322ebd828776fda20d5561c-text/javascript">
        $(document).pjax('a[href^="https://static.bobby285271.top/"]:not(a[target="_blank"], a[no-pjax])', {
            container: '#content',
            fragment: '#content',
            timeout: 8000
        }).on('pjax:send',function () {
                        $('#loading').removeClass('hide');
                    }).on('pjax:click', function() {

            window['Page'].doPJAXClickAction();
            
                        $('body,html').animate({scrollTop:0},100);
            

        }).on('pjax:complete', function() {
            window['Page'].doPJAXCompleteAction();
            if ($(".post-position").length > 0){
                window['Page'].doPJAXCompletePostAction();
            }
                                            $("#post-content img").lazyload({
                    effect: "fadeIn",
                    threshold: "200"
                });
                $(".lazy").lazyload({
                    effect: "fadeIn",
                    threshold: "200"
                });
                                                    $('#loading').addClass('hide');
            
                                    MathJax.Hub.Queue(["Typeset",MathJax.Hub,"body"]);
            

        })
    </script>


<script src="../../../../usr/themes/handsome/assets/js/features/lazyload.min.js" type="4322ebd828776fda20d5561c-text/javascript"></script>
<script type="4322ebd828776fda20d5561c-text/javascript">
        $("img").lazyload({
            effect: "fadeIn",
            threshold: "200"
        });

        $(".lazy").lazyload({
            effect: "fadeIn",
            threshold: "200"
        });

        //后退的时候
        if (window.history && window.history.pushState) {
            $(window).on('popstate', function () {
                /// 当点击浏览器的 后退和前进按钮 时才会被触发，
                window.history.pushState('forward', null, '');
                window.history.forward(1);//当前页 ,
                $("img").lazyload({
                    effect: "fadeIn",
                    threshold: "200"
                });

                $(".lazy").lazyload({
                    effect: "fadeIn",
                    threshold: "200"
                });
            });
        }
        //在ie中必须有这两行
        window.history.pushState('forward', null, '');
        window.history.forward(1);
    </script>
<script src="../../../../usr/themes/handsome/assets/js/features/feather.min.js%3Fv=6.0.020191205" type="4322ebd828776fda20d5561c-text/javascript"></script>

<script src="https://cdn.staticfile.org/mathjax/2.7.0/MathJax.js" type="4322ebd828776fda20d5561c-text/javascript"></script>
<script src="https://cdn.staticfile.org/mathjax/2.7.0/config/TeX-AMS-MML_SVG.js" type="4322ebd828776fda20d5561c-text/javascript"></script>

<script src="../../../../usr/themes/handsome/assets/js/features/jquery.fancybox.min.js%3Fv=6.0.020191205" type="4322ebd828776fda20d5561c-text/javascript"></script>
<script src="../../../../usr/themes/handsome/assets/js/features/easypiechart.min.js%3Fv=6.0.020191205" type="4322ebd828776fda20d5561c-text/javascript"></script>

<script src="../../../../usr/themes/handsome/assets/js/features/OwO.min.js%3Fv=6.0.020191205" type="4322ebd828776fda20d5561c-text/javascript"></script>



<script src="../../../../usr/themes/handsome/assets/js/function.min.js%3Fv=6.0.020191205" type="4322ebd828776fda20d5561c-text/javascript"></script>
<script src="../../../../usr/themes/handsome/assets/js/core.min.js%3Fv=6.0.020191205" type="4322ebd828776fda20d5561c-text/javascript"></script>
<script type="4322ebd828776fda20d5561c-text/javascript">
            </script>
<script src="https://ajax.cloudflare.com/cdn-cgi/scripts/7089c43e/cloudflare-static/rocket-loader.min.js" data-cf-settings="4322ebd828776fda20d5561c-|49" defer=""></script></body>
</html>

